{"version":3,"file":"default-arg-types-499421ad.js","sources":["../../src/stories/utils/overview.jsx","../../src/stories/utils/waiting/preloader.svg","../../src/stories/utils/waiting/waiting.jsx","../../src/stories/utils/orchestrator.jsx","../../src/stories/utils/default-arg-types.js"],"sourcesContent":["import { Fragment } from 'react';\nimport './overview.scss';\n\nconst View = ({ key, overviewEntry, goToPage }) => {\n\tlet color = 'green';\n\tif (!overviewEntry.reached) {\n\t\tcolor = 'grey';\n\t}\n\tif (!overviewEntry.visible) {\n\t\tcolor = 'red';\n\t}\n\treturn (\n\t\t<Fragment key={key}>\n\t\t\t<li\n\t\t\t\tstyle={{ listStyle: 'none', color: color }}\n\t\t\t\tonClick={() => goToPage({ page: overviewEntry.page })}\n\t\t\t>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t{overviewEntry.page}\n\t\t\t\t\t{overviewEntry.label}\n\t\t\t\t</div>\n\t\t\t\t{overviewEntry.children.length > 0 && (\n\t\t\t\t\t<Overview overview={overviewEntry.children} goToPage={goToPage} />\n\t\t\t\t)}\n\t\t\t</li>\n\t\t</Fragment>\n\t);\n};\n\nexport const Overview = ({ overview: stateOverview, goToPage }) => {\n\treturn (\n\t\t<ol>\n\t\t\t{stateOverview.map((entry) => (\n\t\t\t\t<View\n\t\t\t\t\tkey={`view-${entry.lunaticId}`}\n\t\t\t\t\toverviewEntry={entry}\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</ol>\n\t);\n};\n","export default \"__VITE_ASSET__a8b414b3__\"","import React from 'react';\nimport './waiting.scss';\nimport preloader from './preloader.svg';\n\nfunction Waiting({ status, children }) {\n\tif (status) {\n\t\treturn (\n\t\t\t<div className=\"waiting\">\n\t\t\t\t<img src={preloader} alt=\"loading\" />\n\t\t\t\t<div className=\"content\">{children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn null;\n}\n\nWaiting.defaultProps = {\n\tstatus: false,\n};\n\nexport default React.memo(Waiting);\n","import './custom-lunatic.scss';\nimport './orchestrator.scss';\n\nimport * as lunatic from '../..';\n\nimport React, { memo, useCallback, useState } from 'react';\n\nimport { Logger } from '../../utils/logger';\nimport { Overview } from './overview';\nimport Waiting from './waiting';\nimport { LunaticComponents } from '../..';\n\nfunction getStoreInfoRequired() {\n\treturn {};\n}\n\nfunction DevOptions({ goToPage, getData, lastReachedPage }) {\n\tconst [toPage, setToPage] = useState(1);\n\n\tfunction handleChange(_, value) {\n\t\tsetToPage(value);\n\t}\n\n\treturn (\n\t\t<div className=\"dev-options\">\n\t\t\t<div className=\"title\">Options développeur</div>\n\t\t\t<div className=\"conteneur\">\n\t\t\t\t<lunatic.Button onClick={() => Logger.log(getData(true))}>\n\t\t\t\t\tGet State\n\t\t\t\t</lunatic.Button>\n\t\t\t\t<lunatic.Button onClick={() => goToPage({ page: `${toPage}` })}>\n\t\t\t\t\t{`Go to page ${toPage}`}\n\t\t\t\t</lunatic.Button>\n\t\t\t\t<lunatic.Button\n\t\t\t\t\tonClick={() => goToPage({ page: `${lastReachedPage}` })}\n\t\t\t\t>\n\t\t\t\t\t{`Go to lastReachedPage : ${lastReachedPage}`}\n\t\t\t\t</lunatic.Button>\n\t\t\t\t<lunatic.Input\n\t\t\t\t\tid=\"page-to-jump\"\n\t\t\t\t\tvalue={toPage}\n\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\tmin={1}\n\t\t\t\t\tlabel={'Page'}\n\t\t\t\t\tdescription={'the page where you want to jump'}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction Pager({\n\tgoPrevious,\n\tgoNext,\n\tgoToPage,\n\tlastReachedPage,\n\tisLast,\n\tisFirst,\n\tpageTag,\n\tmaxPage,\n\tgetData,\n}) {\n\tif (maxPage && maxPage > 1) {\n\t\tconst Button = lunatic.Button;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"pagination\">\n\t\t\t\t\t<Button onClick={goPrevious} disabled={isFirst}>\n\t\t\t\t\t\tPrevious\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={goNext} disabled={isLast}>\n\t\t\t\t\t\tNext\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div>PAGE: {pageTag}</div>\n\t\t\t\t<DevOptions\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t\tgetData={getData}\n\t\t\t\t\tlastReachedPage={lastReachedPage}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n\treturn null;\n}\n\nfunction onLogChange(response, value, args) {\n\tLogger.log('onChange', { response, value, args });\n}\n\nfunction logMissingStrategy() {\n\tLogger.log('no missing strategy');\n}\n\nfunction OrchestratorForStories({\n\tsource,\n\tdata,\n\tmanagement = false,\n\tshortcut = false,\n\tactiveControls = false,\n\tfeatures,\n\tinitialPage = '1',\n\tgetStoreInfo = getStoreInfoRequired,\n\tmissing = false,\n\tmissingStrategy = logMissingStrategy,\n\tmissingShortcut,\n\tautoSuggesterLoading,\n\taddExternal,\n\tpreferences,\n\tcustom,\n\tshowOverview = false,\n\tfilterDescription = true,\n\tgetReferentiel,\n\tdontKnowButton,\n\trefusedButton,\n\treadOnly,\n\t...rest\n}) {\n\tconst { maxPage } = source;\n\tconst {\n\t\tgetComponents,\n\t\tgoPreviousPage,\n\t\tgoNextPage,\n\t\tgoToPage,\n\t\tpager,\n\t\tpageTag,\n\t\tisFirstPage,\n\t\tisLastPage,\n\t\twaiting,\n\t\toverview,\n\t\tcompileControls,\n\t\tgetData,\n\t\tProvider,\n\t} = lunatic.useLunatic(source, data, {\n\t\tinitialPage,\n\t\tfeatures,\n\t\tpreferences,\n\t\tonChange: onLogChange,\n\t\tcustom,\n\t\tautoSuggesterLoading,\n\t\tgetReferentiel,\n\t\tmanagement,\n\t\tmissing,\n\t\tmissingStrategy,\n\t\tmissingShortcut,\n\t\tshortcut,\n\t\tactiveControls,\n\t\twithOverview: showOverview,\n\t\tdontKnowButton,\n\t\trefusedButton,\n\t});\n\n\tconst components = getComponents();\n\tconst { lastReachedPage } = pager;\n\n\tconst [errorActive, setErrorActive] = useState({});\n\tconst [errorsForModal, setErrorsForModal] = useState(null);\n\n\tconst skip = useCallback(\n\t\t(arg) => {\n\t\t\tsetErrorsForModal(undefined);\n\t\t\tgoNextPage(arg);\n\t\t},\n\t\t[goNextPage]\n\t);\n\n\tconst closeModal = useCallback(() => setErrorsForModal(undefined), []);\n\n\tconst handleGoNext = useCallback(() => {\n\t\tconst { currentErrors, isCritical } = compileControls();\n\t\tsetErrorActive({ ...errorActive, [pageTag]: currentErrors || {} });\n\t\tif (currentErrors && Object.keys(currentErrors).length > 0) {\n\t\t\tsetErrorsForModal({ currentErrors, isCritical });\n\t\t} else goNextPage();\n\t}, [compileControls, errorActive, goNextPage, pageTag]);\n\n\treturn (\n\t\t<Provider>\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"components\">\n\t\t\t\t\t<LunaticComponents\n\t\t\t\t\t\tautoFocusKey={pageTag}\n\t\t\t\t\t\tcomponents={components}\n\t\t\t\t\t\tcomponentProps={({ storeName }) => ({\n\t\t\t\t\t\t\terrors: errorActive[pageTag],\n\t\t\t\t\t\t\tfilterDescription: filterDescription,\n\t\t\t\t\t\t\tdisabled: readOnly,\n\t\t\t\t\t\t\t...(storeName ? getStoreInfo(storeName) : {}),\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Pager\n\t\t\t\t\tgoPrevious={goPreviousPage}\n\t\t\t\t\tgoNext={handleGoNext}\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t\tlastReachedPage={lastReachedPage}\n\t\t\t\t\tisLast={isLastPage}\n\t\t\t\t\tisFirst={isFirstPage}\n\t\t\t\t\tpageTag={pageTag}\n\t\t\t\t\tmaxPage={maxPage}\n\t\t\t\t\tgetData={getData}\n\t\t\t\t/>\n\t\t\t\t{showOverview && <Overview overview={overview} goToPage={goToPage} />}\n\t\t\t\t{errorsForModal && (\n\t\t\t\t\t<lunatic.Modal\n\t\t\t\t\t\terrors={errorsForModal.currentErrors}\n\t\t\t\t\t\tgoNext={skip}\n\t\t\t\t\t\tonClose={closeModal}\n\t\t\t\t\t\tisCritical={errorsForModal.isCritical}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<Waiting status={waiting}>\n\t\t\t\t\t<div className=\"waiting-orchestrator\">\n\t\t\t\t\t\tInitialisation des données de suggestion...\n\t\t\t\t\t</div>\n\t\t\t\t</Waiting>\n\t\t\t</div>\n\t\t</Provider>\n\t);\n}\n\nexport default memo(OrchestratorForStories);\n","const fields = [\n\t'source',\n\t'id',\n\t'pagination',\n\t'data',\n\t'management',\n\t'activeControls',\n\t'features',\n\t'initialPage',\n\t'getStoreInfo',\n\t'missing',\n\t'shortcut',\n\t'filterDescription',\n];\n\nconst defaultArgTypes = fields.reduce(\n\t(acc, f) => ({\n\t\t...acc,\n\t\t[f]: {\n\t\t\ttable: {\n\t\t\t\tdisable: true,\n\t\t\t},\n\t\t},\n\t}),\n\t{}\n);\n\nexport default defaultArgTypes;\n"],"names":["View","key","overviewEntry","goToPage","color","Fragment","jsxs","Overview","stateOverview","jsx","entry","preloader","Waiting","status","children","Waiting$1","React","getStoreInfoRequired","DevOptions","getData","lastReachedPage","toPage","setToPage","useState","handleChange","_","value","lunatic.Button","Logger","lunatic.Input","Pager","goPrevious","goNext","isLast","isFirst","pageTag","maxPage","Button","onLogChange","response","args","logMissingStrategy","OrchestratorForStories","source","data","management","shortcut","activeControls","features","initialPage","getStoreInfo","missing","missingStrategy","missingShortcut","autoSuggesterLoading","addExternal","preferences","custom","showOverview","filterDescription","getReferentiel","dontKnowButton","refusedButton","readOnly","rest","getComponents","goPreviousPage","goNextPage","pager","isFirstPage","isLastPage","waiting","overview","compileControls","Provider","lunatic.useLunatic","components","errorActive","setErrorActive","errorsForModal","setErrorsForModal","skip","useCallback","arg","closeModal","handleGoNext","currentErrors","isCritical","LunaticComponents","storeName","lunatic.Modal","Orchestrator","memo","fields","defaultArgTypes","acc","f"],"mappings":"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"}