(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7149],{2665:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>L,frontMatter:()=>p,metadata:()=>m,toc:()=>E});var a=t(4848),l=t(8453);const o=JSON.parse('{"components":[{"componentType":"Text","label":{"value":"Mon texte","type":"TXT"},"conditionFilter":{"value":"true","type":"VTL"},"id":"id"}],"variables":[]}');var r=t(1415);const s=JSON.parse('{"componentType":"Questionnaire","variables":[{"variableType":"COLLECTED","values":{"COLLECTED":null,"EDITED":null,"FORCED":null,"INPUTTED":null,"PREVIOUS":null},"name":"TABLEAUCLA11"},{"variableType":"COLLECTED","values":{"COLLECTED":null,"EDITED":null,"FORCED":null,"INPUTTED":null,"PREVIOUS":null},"name":"TABLEAUCLA21"},{"variableType":"COLLECTED","values":{"COLLECTED":null,"EDITED":null,"FORCED":null,"INPUTTED":null,"PREVIOUS":null},"name":"TABLEAUCLA31"},{"variableType":"COLLECTED","values":{"COLLECTED":null,"EDITED":null,"FORCED":null,"INPUTTED":null,"PREVIOUS":null},"name":"TABLEAUCLA12"},{"variableType":"COLLECTED","values":{"COLLECTED":null,"EDITED":null,"FORCED":null,"INPUTTED":null,"PREVIOUS":null},"name":"TABLEAUCLA22"},{"variableType":"COLLECTED","values":{"COLLECTED":null,"EDITED":null,"FORCED":null,"INPUTTED":null,"PREVIOUS":null},"name":"TABLEAUCLA32"},{"variableType":"COLLECTED","values":{"COLLECTED":null,"EDITED":null,"FORCED":null,"INPUTTED":null,"PREVIOUS":null},"name":"TABLEAUCLA13"},{"variableType":"COLLECTED","values":{"COLLECTED":null,"EDITED":null,"FORCED":null,"INPUTTED":null,"PREVIOUS":null},"name":"TABLEAUCLA23"},{"variableType":"COLLECTED","values":{"COLLECTED":null,"EDITED":null,"FORCED":null,"INPUTTED":null,"PREVIOUS":null},"name":"TABLEAUCLA33"},{"variableType":"CALCULATED","expression":{"type":"VTL","value":"true"},"name":"FILTER_RESULT_LIBELLEDUT"},{"variableType":"CALCULATED","expression":{"type":"VTL","value":"true"},"name":"FILTER_RESULT_TABLEAUCLA"}],"components":[{"componentType":"Table","header":[{"label":{"type":"VTL|MD","value":""}},{"label":{"type":"VTL|MD","value":"\\"Domaines\\""}},{"label":{"type":"VTL|MD","value":"\\"Activit\xe9\\""}},{"label":{"type":"VTL|MD","value":"\\"Chiffre d\'affaire\\""}}],"conditionFilter":{"type":"VTL","value":"true"},"id":"luwhnbxk","page":"1","label":{"type":"VTL|MD","value":"\\"Tableau classique\\""},"body":[[{"componentType":"Text","conditionFilter":{"value":"true","type":"VTL"},"id":"id-text-1","label":{"type":"TXT","value":"Libelle 1"}},{"componentType":"Input","response":{"name":"TABLEAUCLA11"},"id":"luwhnbxk-RDOP-luwhcrpg","maxLength":249,"controls":[{"criticality":"ERROR","errorMessage":{"type":"VTL","value":"\\"Le domaine ne doit pas \xeatre vide\\""},"typeOfControl":"","control":{"type":"VTL","value":"not(isnull(TABLEAUCLA11))"}}]},{"componentType":"Input","response":{"name":"TABLEAUCLA12"},"id":"luwhnbxk-RDOP-luwhnkls","maxLength":249},{"componentType":"InputNumber","unit":"\u20ac","min":0,"max":9999,"response":{"name":"TABLEAUCLA13"},"decimals":0,"id":"luwhnbxk-RDOP-luwh7btb"}],[{"componentType":"Text","conditionFilter":{"value":"true","type":"VTL"},"id":"id-text-2","label":{"type":"TXT","value":"Libelle 2"}},{"componentType":"Input","response":{"name":"TABLEAUCLA21"},"id":"luwhnbxk-RDOP-luwhmbp1","maxLength":249},{"componentType":"Input","response":{"name":"TABLEAUCLA22"},"id":"luwhnbxk-RDOP-luwhlejc","maxLength":249},{"componentType":"InputNumber","unit":"\u20ac","min":0,"max":9999,"response":{"name":"TABLEAUCLA23"},"decimals":0,"id":"luwhnbxk-RDOP-luwh4tva"}],[{"componentType":"Text","conditionFilter":{"value":"true","type":"VTL"},"id":"id-text-3","label":{"type":"TXT","value":"Libelle 3"}},{"componentType":"Input","response":{"name":"TABLEAUCLA31"},"id":"luwhnbxk-RDOP-luwhalhn","maxLength":249},{"componentType":"Input","response":{"name":"TABLEAUCLA32"},"id":"luwhnbxk-RDOP-luwhd3mk","maxLength":249},{"componentType":"InputNumber","unit":"\u20ac","min":0,"max":9999,"response":{"name":"TABLEAUCLA33"},"decimals":0,"id":"luwhnbxk-RDOP-luwhcilc"}]],"mandatory":false}],"maxPage":"1"}'),i=JSON.parse('{"variables":[{"variableType":"EXTERNAL","name":"VARIABLE_EXT"},{"variableType":"COLLECTED","values":{"COLLECTED":[],"EDITED":[],"FORCED":[],"INPUTTED":[],"PREVIOUS":[]},"name":"PREMIERTAB2"},{"variableType":"COLLECTED","values":{"COLLECTED":[],"EDITED":[],"FORCED":[],"INPUTTED":[],"PREVIOUS":[]},"name":"PREMIERTAB3"},{"variableType":"COLLECTED","values":{"COLLECTED":[],"EDITED":[],"FORCED":[],"INPUTTED":[],"PREVIOUS":[]},"name":"PREMIERTAB4"}],"components":[{"componentType":"RosterForLoop","components":[{"componentType":"Text","label":{"type":"VTL","value":"VARIABLE_EXT"},"id":"lvp6l8rw-RDOP-lvp7mld9","maxLength":249},{"componentType":"Input","response":{"name":"PREMIERTAB2"},"id":"lvp6l8rw-RDOP-lvp75ug8","maxLength":5},{"componentType":"InputNumber","min":0,"max":10000,"response":{"name":"PREMIERTAB3"},"decimals":0,"id":"lvp6l8rw-RDOP-lvp7i2ub"},{"componentType":"InputNumber","min":0,"max":10000,"response":{"name":"PREMIERTAB4"},"decimals":0,"id":"lvp6l8rw-RDOP-lvp74mc4"}],"controls":[{"criticality":"ERROR","errorMessage":{"type":"VTL|MD","value":"\\" La valeur doit \xeatre comprise entre 0 et 10000.\\""},"typeOfControl":"FORMAT","control":{"type":"VTL","value":"not(not(isnull(PREMIERTAB3)) and (0>PREMIERTAB3 or 10000<PREMIERTAB3))"},"id":"lvp6l8rw-RDOP-lvp7i2ub-format-borne-inf-sup"},{"criticality":"ERROR","errorMessage":{"type":"VTL|MD","value":"\\"Le nombre doit comporter au maximum 0 chiffre(s) apr\xe8s la virgule.\\""},"typeOfControl":"FORMAT","control":{"type":"VTL","value":"not(not(isnull(PREMIERTAB3))  and round(PREMIERTAB3,0)<>PREMIERTAB3)"},"id":"lvp6l8rw-RDOP-lvp7i2ub-format-decimal"},{"criticality":"ERROR","errorMessage":{"type":"VTL|MD","value":"\\" La valeur doit \xeatre comprise entre 0 et 10000.\\""},"typeOfControl":"FORMAT","control":{"type":"VTL","value":"not(not(isnull(PREMIERTAB4)) and (0>PREMIERTAB4 or 10000<PREMIERTAB4))"},"id":"lvp6l8rw-RDOP-lvp74mc4-format-borne-inf-sup"},{"criticality":"ERROR","errorMessage":{"type":"VTL|MD","value":"\\"Le nombre doit comporter au maximum 0 chiffre(s) apr\xe8s la virgule.\\""},"typeOfControl":"FORMAT","control":{"type":"VTL","value":"not(not(isnull(PREMIERTAB4))  and round(PREMIERTAB4,0)<>PREMIERTAB4)"},"id":"lvp6l8rw-RDOP-lvp74mc4-format-decimal"}],"header":[{"label":{"type":"VTL|MD","value":"\\"Nom (LS)\\""}},{"label":{"type":"VTL|MD","value":"\\"Code postal (LS)\\""}},{"label":{"type":"VTL|MD","value":"\\"Capacit\xe9 2023 (LS)\\""}},{"label":{"type":"VTL|MD","value":"\\"Capacit\xe9 2024\\""}}],"conditionFilter":{"type":"VTL","value":"true"},"id":"lvp6l8rw","page":"1","lines":{"min":{"type":"VTL","value":"2"},"max":{"type":"VTL","value":"5"}},"mandatory":false}],"pagination":"question","lunaticModelVersion":"3.8.0","enoCoreVersion":"3.21.0-SNAPSHOT","resizing":{},"maxPage":"1"}'),u=JSON.parse('{"EXTERNAL":{"VARIABLE_EXT":["TRUC","BIDULE","CHOSE"]}}'),p={},c="Text",m={id:"components/fields/text",title:"Text",description:"Le composant Text permet d'afficher du texte. L'objectif de ce composant est d'\xeatre r\xe9utilis\xe9 en tant qu'enfant d'autres composants.",source:"@site/docs/components/fields/text.mdx",sourceDirName:"components/fields",slug:"/components/fields/text",permalink:"/Lunatic/docs/components/fields/text",draft:!1,unlisted:!1,editUrl:"https://github.com/InseeFr/Lunatic/tree/3.0/docs/docs/components/fields/text.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Table",permalink:"/Lunatic/docs/components/fields/table"},next:{title:"Agr\xe9gateurs",permalink:"/Lunatic/docs/category/agr\xe9gateurs"}},d={},E=[{value:"Composant seul",id:"composant-seul",level:2},{value:"Dans un tableau",id:"dans-un-tableau",level:2},{value:"Dans une tableau dynamique",id:"dans-une-tableau-dynamique",level:2}];function T(e){const n={h1:"h1",h2:"h2",header:"header",p:"p",strong:"strong",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"text",children:"Text"})}),"\n",(0,a.jsxs)(n.p,{children:["Le composant ",(0,a.jsx)(n.strong,{children:"Text"})," permet d'afficher du texte. L'objectif de ce composant est d'\xeatre r\xe9utilis\xe9 en tant qu'enfant d'autres composants."]}),"\n",(0,a.jsx)(n.p,{children:"Il a \xe9tait cr\xe9\xe9 pour \xeatre utilis\xe9 dans des tableaux, mais peut tr\xe8s bien s'utiliser seul ou comme enfant d'autre composants."}),"\n",(0,a.jsx)(n.h2,{id:"composant-seul",children:"Composant seul"}),"\n","\n",(0,a.jsx)(r.L,{source:o}),"\n",(0,a.jsx)(n.h2,{id:"dans-un-tableau",children:"Dans un tableau"}),"\n","\n",(0,a.jsx)(r.L,{source:s}),"\n",(0,a.jsx)(n.h2,{id:"dans-une-tableau-dynamique",children:"Dans une tableau dynamique"}),"\n","\n",(0,a.jsx)(r.L,{source:i,data:u})]})}function L(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(T,{...e})}):T(e)}},1415:(e,n,t)=>{"use strict";t.d(n,{L:()=>m});const a={FormExample:"FormExample_a30K",FormExampleRender:"FormExampleRender_QfqF",FormExampleCode:"FormExampleCode_XePV","margin-top--md":"margin-top--md_TH4F"};var l=t(9489),o=t(7227),r=t(2250);const s="import {\n  type LunaticData,\n  type LunaticSource,\n  useLunatic,\n  LunaticComponents,\n} from '@inseefr/lunatic';\nimport '@inseefr/lunatic/lib/main.css'\n\ntype Props = {\n  source: LunaticSource;\n  data: LunaticData;\n};\n\nexport function FormRenderer({ source, data }: Props) {\n  const { getComponents, Provider } = useLunatic(source, data, {\n    initialPage: '1',\n  });\n  return (\n    <Provider>\n      <LunaticComponents components={getComponents()} />\n    </Provider>\n  );\n}\n",i="import {\n  type LunaticData,\n  type LunaticSource,\n  type LunaticState,\n  useLunatic,\n  LunaticComponents,\n  ModalControls,\n} from '@inseefr/lunatic';\nimport { useState } from 'react';\n\ntype Props = {\n  source: LunaticSource;\n  data: LunaticData;\n  options?: {initialPage?: LunaticState['pageTag']},\n};\n\nexport function FormRendererWithNavigation({ source, data, options }: Props) {\n  const {\n    getComponents,\n    isLastPage,\n    isFirstPage,\n    goPreviousPage,\n    goNextPage,\n    Provider,\n    compileControls,\n  } = useLunatic(source, data, {\n    initialPage: '1' as LunaticState['pageTag'],\n    ...options\n  });\n\n  // Les contr\xf4les doivent \xeatre v\xe9rifi\xe9s manuellement\n  const [errors, setErrors] = useState<ReturnType<typeof compileControls>>();\n  const handleNext = () => {\n    const currentPageErrors = compileControls();\n    if (currentPageErrors.currentErrors) {\n      setErrors(currentPageErrors);\n    } else {\n      goNextPage();\n    }\n  };\n  const forceNext = () => {\n    setErrors(undefined);\n    goNextPage();\n  };\n  const closeModal = () => {\n    setErrors(undefined);\n  };\n\n  return (\n    <div>\n      <Provider>\n        <LunaticComponents\n          components={getComponents()}\n          componentProps={() => ({\n            errors: errors?.currentErrors,\n          })}\n        />\n      </Provider>\n      <div style={{ marginTop: '.7rem', display: 'flex', gap: '.2rem' }}>\n        <button className=\"button button--primary\" disabled={isFirstPage} onClick={goPreviousPage}>\n          Pr\xe9c\xe9dent\n        </button>\n        <button className=\"button button--primary\" disabled={isLastPage} onClick={handleNext}>\n          Suivant\n        </button>\n      </div>\n      {errors && (\n        <ModalControls\n          errors={errors.currentErrors}\n          goNext={forceNext}\n          onClose={closeModal}\n          isCritical={errors.isCritical}\n        />\n      )}\n    </div>\n  );\n}\n";var u=t(9813),p=t(4848);const c={};function m(e){let{source:n,data:m=c,options:d}=e;const E=n.maxPage&&"1"!==n.maxPage;return(0,p.jsxs)("div",{className:a.FormExample,children:[(0,p.jsxs)(l.A,{children:[(0,p.jsx)(o.A,{value:"source",label:"Source",default:!0,children:(0,p.jsx)(r.A,{language:"json",className:a.FormExampleCode,children:JSON.stringify(n,null,2)})}),(0,p.jsx)(o.A,{value:"data",label:"Data",children:(0,p.jsx)(r.A,{language:"json",className:a.FormExampleCode,children:JSON.stringify(m,null,2)})})]}),(0,p.jsxs)(l.A,{children:[(0,p.jsx)(o.A,{value:"code",label:"Code",children:(0,p.jsx)(r.A,{language:"tsx",className:a.FormExampleCode,children:E?i:s})}),(0,p.jsx)(o.A,{value:"render",label:"Rendu",default:!0,children:(0,p.jsx)("div",{className:a.FormExampleRender,children:(0,p.jsx)(u.A,{fallback:(0,p.jsx)("div",{children:"Loading..."}),children:()=>{const e=E?t(2937).g:t(7171).S;return(0,p.jsx)(e,{source:n,data:m,options:d})}})})})]})]})}},7171:(e,n,t)=>{"use strict";t.d(n,{S:()=>o});var a=t(3779),l=t(4848);function o(e){let{source:n,data:t}=e;const{getComponents:o,Provider:r}=(0,a.O1)(n,t,{initialPage:"1"});return(0,l.jsx)(r,{children:(0,l.jsx)(a.R2,{components:o()})})}},2937:(e,n,t)=>{"use strict";t.d(n,{g:()=>r});var a=t(3779),l=t(6540),o=t(4848);function r(e){let{source:n,data:t,options:r}=e;const{getComponents:s,isLastPage:i,isFirstPage:u,goPreviousPage:p,goNextPage:c,Provider:m,compileControls:d}=(0,a.O1)(n,t,{initialPage:"1",...r}),[E,T]=(0,l.useState)();return(0,o.jsxs)("div",{children:[(0,o.jsx)(m,{children:(0,o.jsx)(a.R2,{components:s(),componentProps:()=>({errors:E?.currentErrors})})}),(0,o.jsxs)("div",{style:{marginTop:".7rem",display:"flex",gap:".2rem"},children:[(0,o.jsx)("button",{className:"button button--primary",disabled:u,onClick:p,children:"Pr\xe9c\xe9dent"}),(0,o.jsx)("button",{className:"button button--primary",disabled:i,onClick:()=>{const e=d();e.currentErrors?T(e):c()},children:"Suivant"})]}),E&&(0,o.jsx)(a.I1,{errors:E.currentErrors,goNext:()=>{T(void 0),c()},onClose:()=>{T(void 0)},isCritical:E.isCritical})]})}},5843:()=>{}}]);