(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8120],{2473:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=t(4848),o=t(8453);const s=JSON.parse('{"components":[{"componentType":"Datepicker","max":"2100-01-01","dateFormat":"YYYY-MM-DD","conditionFilter":{"type":"VTL","value":"true"},"label":{"type":"VTL|MD","value":"\\"\u27a1 1. \\" || \\"Birth day\\""},"mandatory":false,"min":"1900-01-01","response":{"name":"Q1"},"id":"l7ovm2rv","page":"1","controls":[{"criticality":"ERROR","errorMessage":{"type":"VTL|MD","value":"\\"Le format de la date YYYY-MM-DD n\'est pas respect\xe9.\\""},"control":{"type":"VTL","value":"cast(Q1, date,  \\"YYYY-MM-DD\\")"},"id":"l7ovm2rv-format"},{"criticality":"ERROR","errorMessage":{"type":"VTL|MD","value":"\\"La date saisie doit \xeatre comprise entre 1900-01-01 et 2100-01-01.\\""},"control":{"type":"VTL","value":"not(cast(Q1, date, \\"YYYY-MM-DD\\")>cast(\\"2100-01-01\\", date, \\"YYYY-MM-DD\\") or cast(Q1, date,\\"YYYY-MM-DD\\")<cast(\\"1900-01-01\\", date, \\"YYYY-MM-DD\\"))"},"id":"l7ovm2rv-formatborne"}]}],"variables":[{"variableType":"COLLECTED","values":{"COLLECTED":"1974-03-15","EDITED":null,"INPUTTED":null,"FORCED":null,"PREVIOUS":null},"name":"Q1"}],"pagination":"question","resizing":{},"label":{"type":"VTL|MD","value":"\\"Example DatePicker\\""},"lunaticModelVersion":"2.2.13","modele":"DATEPICKER","enoCoreVersion":"2.3.10","generatingDate":"05-09-2022 14:37:43","missing":false,"id":"l7ovbqou","maxPage":"1"}');var a=t(1415);const i={},c="Datepicker",l={id:"components/fields/datepicker",title:"Datepicker",description:"Le composant Datepicker permet \xe0 l'utilisateur de s\xe9lectionner une date.",source:"@site/docs/components/fields/datepicker.mdx",sourceDirName:"components/fields",slug:"/components/fields/datepicker",permalink:"/Lunatic/docs/components/fields/datepicker",draft:!1,unlisted:!1,editUrl:"https://github.com/InseeFr/Lunatic/tree/3.0/docs/docs/components/fields/datepicker.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Textarea",permalink:"/Lunatic/docs/components/fields/textarea"},next:{title:"Dropdown",permalink:"/Lunatic/docs/components/fields/dropdown"}},d={},u=[];function p(e){const n={code:"code",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"datepicker",children:"Datepicker"})}),"\n",(0,r.jsxs)(n.p,{children:["Le composant ",(0,r.jsx)(n.strong,{children:"Datepicker"})," permet \xe0 l'utilisateur de s\xe9lectionner une date."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"dateFormat"}),", format d'entr\xe9e de la date (",(0,r.jsx)(n.code,{children:"YYYY-MM-DD"})," | ",(0,r.jsx)(n.code,{children:"YYYY"})," | ",(0,r.jsx)(n.code,{children:"YYYY-MM"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"min"}),", date minimale"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"max"}),", date maximale"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Le choix a \xe9t\xe9 fait pour ce composant de ne plus utiliser un datepicker natif, car le comportement \xe9tait trop diff\xe9rent en fonction des navigateurs et frein\xe9 l'entr\xe9e des informations par les enqu\xeateurs. Aussi, cela permet le support de format qui n'\xe9tait pas forc\xe9ment pris en charge par les navigateurs \xe0 l'heure actuelle."}),"\n","\n",(0,r.jsx)(a.L,{source:s})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},1415:(e,n,t)=>{"use strict";t.d(n,{L:()=>p});const r={FormExample:"FormExample_a30K",FormExampleRender:"FormExampleRender_QfqF",FormExampleCode:"FormExampleCode_XePV","margin-top--md":"margin-top--md_TH4F"};var o=t(9489),s=t(7227),a=t(2250);const i="import {\n  type LunaticData,\n  type LunaticSource,\n  useLunatic,\n  LunaticComponents,\n} from '@inseefr/lunatic';\nimport '@inseefr/lunatic/lib/main.css'\n\ntype Props = {\n  source: LunaticSource;\n  data: LunaticData;\n};\n\nexport function FormRenderer({ source, data }: Props) {\n  const { getComponents, Provider } = useLunatic(source, data, {\n    initialPage: '1',\n  });\n  return (\n    <Provider>\n      <LunaticComponents components={getComponents()} />\n    </Provider>\n  );\n}\n",c="import {\n  type LunaticData,\n  type LunaticSource,\n  type LunaticState,\n  useLunatic,\n  LunaticComponents,\n  ModalControls,\n} from '@inseefr/lunatic';\nimport { useState } from 'react';\n\ntype Props = {\n  source: LunaticSource;\n  data: LunaticData;\n  options?: {initialPage?: LunaticState['pageTag']},\n};\n\nexport function FormRendererWithNavigation({ source, data, options }: Props) {\n  const {\n    getComponents,\n    isLastPage,\n    isFirstPage,\n    goPreviousPage,\n    goNextPage,\n    Provider,\n    compileControls,\n  } = useLunatic(source, data, {\n    initialPage: '1' as LunaticState['pageTag'],\n    ...options\n  });\n\n  // Les contr\xf4les doivent \xeatre v\xe9rifi\xe9s manuellement\n  const [errors, setErrors] = useState<ReturnType<typeof compileControls>>();\n  const handleNext = () => {\n    const currentPageErrors = compileControls();\n    if (currentPageErrors.currentErrors) {\n      setErrors(currentPageErrors);\n    } else {\n      goNextPage();\n    }\n  };\n  const forceNext = () => {\n    setErrors(undefined);\n    goNextPage();\n  };\n  const closeModal = () => {\n    setErrors(undefined);\n  };\n\n  return (\n    <div>\n      <Provider>\n        <LunaticComponents\n          components={getComponents()}\n          componentProps={() => ({\n            errors: errors?.currentErrors,\n          })}\n        />\n      </Provider>\n      <div style={{ marginTop: '.7rem', display: 'flex', gap: '.2rem' }}>\n        <button className=\"button button--primary\" disabled={isFirstPage} onClick={goPreviousPage}>\n          Pr\xe9c\xe9dent\n        </button>\n        <button className=\"button button--primary\" disabled={isLastPage} onClick={handleNext}>\n          Suivant\n        </button>\n      </div>\n      {errors && (\n        <ModalControls\n          errors={errors.currentErrors}\n          goNext={forceNext}\n          onClose={closeModal}\n          isCritical={errors.isCritical}\n        />\n      )}\n    </div>\n  );\n}\n";var l=t(9813),d=t(4848);const u={};function p(e){let{source:n,data:p=u,options:m}=e;const g=n.maxPage&&"1"!==n.maxPage;return(0,d.jsxs)("div",{className:r.FormExample,children:[(0,d.jsxs)(o.A,{children:[(0,d.jsx)(s.A,{value:"source",label:"Source",default:!0,children:(0,d.jsx)(a.A,{language:"json",className:r.FormExampleCode,children:JSON.stringify(n,null,2)})}),(0,d.jsx)(s.A,{value:"data",label:"Data",children:(0,d.jsx)(a.A,{language:"json",className:r.FormExampleCode,children:JSON.stringify(p,null,2)})})]}),(0,d.jsxs)(o.A,{children:[(0,d.jsx)(s.A,{value:"code",label:"Code",children:(0,d.jsx)(a.A,{language:"tsx",className:r.FormExampleCode,children:g?c:i})}),(0,d.jsx)(s.A,{value:"render",label:"Rendu",default:!0,children:(0,d.jsx)("div",{className:r.FormExampleRender,children:(0,d.jsx)(l.A,{fallback:(0,d.jsx)("div",{children:"Loading..."}),children:()=>{const e=g?t(2937).g:t(7171).S;return(0,d.jsx)(e,{source:n,data:p,options:m})}})})})]})]})}},7171:(e,n,t)=>{"use strict";t.d(n,{S:()=>s});var r=t(3779),o=t(4848);function s(e){let{source:n,data:t}=e;const{getComponents:s,Provider:a}=(0,r.O1)(n,t,{initialPage:"1"});return(0,o.jsx)(a,{children:(0,o.jsx)(r.R2,{components:s()})})}},2937:(e,n,t)=>{"use strict";t.d(n,{g:()=>a});var r=t(3779),o=t(6540),s=t(4848);function a(e){let{source:n,data:t,options:a}=e;const{getComponents:i,isLastPage:c,isFirstPage:l,goPreviousPage:d,goNextPage:u,Provider:p,compileControls:m}=(0,r.O1)(n,t,{initialPage:"1",...a}),[g,x]=(0,o.useState)();return(0,s.jsxs)("div",{children:[(0,s.jsx)(p,{children:(0,s.jsx)(r.R2,{components:i(),componentProps:()=>({errors:g?.currentErrors})})}),(0,s.jsxs)("div",{style:{marginTop:".7rem",display:"flex",gap:".2rem"},children:[(0,s.jsx)("button",{className:"button button--primary",disabled:l,onClick:d,children:"Pr\xe9c\xe9dent"}),(0,s.jsx)("button",{className:"button button--primary",disabled:c,onClick:()=>{const e=m();e.currentErrors?x(e):u()},children:"Suivant"})]}),g&&(0,s.jsx)(r.I1,{errors:g.currentErrors,goNext:()=>{x(void 0),u()},onClose:()=>{x(void 0)},isCritical:g.isCritical})]})}},5843:()=>{}}]);