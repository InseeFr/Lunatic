(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4762],{7682:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>m,frontMatter:()=>i,metadata:()=>u,toc:()=>d});var r=t(4848),o=t(8453);const s=JSON.parse('{"maxPage":"1","components":[{"componentType":"Sequence","page":"1","conditionFilter":{"value":"true","type":"VTL"},"label":{"value":"\\"Sequence example\\"","type":"VTL|MD"}},{"componentType":"Subsequence","page":"1","conditionFilter":{"value":"true","type":"VTL"},"label":{"value":"\\"Subsequence example\\"","type":"VTL|MD"}}]}');var a=t(1415);const i={},c="Sequence & SubSequence",u={id:"components/decorations/sequence",title:"Sequence & SubSequence",description:"Les composants Sequence et SubSequence permettent de d\xe9marrer une s\xe9quence de question et n'ont pour but de n'afficher que des informations textuelles \xe0 l'utilisateur (\xe9quivalent s\xe9mantique \xe0 des titres de premiers et second niveau).",source:"@site/docs/components/decorations/sequence.mdx",sourceDirName:"components/decorations",slug:"/components/decorations/sequence",permalink:"/Lunatic/docs/components/decorations/sequence",draft:!1,unlisted:!1,editUrl:"https://github.com/InseeFr/Lunatic/tree/3.0/docs/docs/components/decorations/sequence.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Balisage",permalink:"/Lunatic/docs/category/balisage"},next:{title:"Question",permalink:"/Lunatic/docs/components/decorations/question"}},l={},d=[];function p(e){const n={h1:"h1",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"sequence--subsequence",children:"Sequence & SubSequence"}),"\n",(0,r.jsxs)(n.p,{children:["Les composants ",(0,r.jsx)(n.strong,{children:"Sequence"})," et ",(0,r.jsx)(n.strong,{children:"SubSequence"})," permettent de d\xe9marrer une s\xe9quence de question et n'ont pour but de n'afficher que des informations textuelles \xe0 l'utilisateur (\xe9quivalent s\xe9mantique \xe0 des titres de premiers et second niveau)."]}),"\n","\n",(0,r.jsx)(a.L,{source:s})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},1415:(e,n,t)=>{"use strict";t.d(n,{L:()=>p});const r={FormExample:"FormExample_a30K",FormExampleRender:"FormExampleRender_QfqF",FormExampleCode:"FormExampleCode_XePV","margin-top--md":"margin-top--md_TH4F"};var o=t(9489),s=t(7227),a=t(2250);const i="import {\n  type LunaticData,\n  type LunaticSource,\n  useLunatic,\n  LunaticComponents,\n} from '@inseefr/lunatic';\nimport '@inseefr/lunatic/lib/main.css'\n\ntype Props = {\n  source: LunaticSource;\n  data: LunaticData;\n};\n\nexport function FormRenderer({ source, data }: Props) {\n  const { getComponents, Provider } = useLunatic(source, data, {\n    initialPage: '1',\n  });\n  return (\n    <Provider>\n      <LunaticComponents components={getComponents()} />\n    </Provider>\n  );\n}\n",c="import {\n  type LunaticData,\n  type LunaticSource,\n  type LunaticState,\n  useLunatic,\n  LunaticComponents,\n  ModalControls,\n} from '@inseefr/lunatic';\nimport { useState } from 'react';\n\ntype Props = {\n  source: LunaticSource;\n  data: LunaticData;\n  options?: {initialPage?: LunaticState['pageTag']},\n};\n\nexport function FormRendererWithNavigation({ source, data, options }: Props) {\n  const {\n    getComponents,\n    isLastPage,\n    isFirstPage,\n    goPreviousPage,\n    goNextPage,\n    Provider,\n    compileControls,\n  } = useLunatic(source, data, {\n    initialPage: '1' as LunaticState['pageTag'],\n    ...options\n  });\n\n  // Les contr\xf4les doivent \xeatre v\xe9rifi\xe9s manuellement\n  const [errors, setErrors] = useState<ReturnType<typeof compileControls>>();\n  const handleNext = () => {\n    const currentPageErrors = compileControls();\n    if (currentPageErrors.currentErrors) {\n      setErrors(currentPageErrors);\n    } else {\n      goNextPage();\n    }\n  };\n  const forceNext = () => {\n    setErrors(undefined);\n    goNextPage();\n  };\n  const closeModal = () => {\n    setErrors(undefined);\n  };\n\n  return (\n    <div>\n      <Provider>\n        <LunaticComponents\n          components={getComponents()}\n          componentProps={() => ({\n            errors: errors?.currentErrors,\n          })}\n        />\n      </Provider>\n      <div style={{ marginTop: '.7rem', display: 'flex', gap: '.2rem' }}>\n        <button className=\"button button--primary\" disabled={isFirstPage} onClick={goPreviousPage}>\n          Pr\xe9c\xe9dent\n        </button>\n        <button className=\"button button--primary\" disabled={isLastPage} onClick={handleNext}>\n          Suivant\n        </button>\n      </div>\n      {errors && (\n        <ModalControls\n          errors={errors.currentErrors}\n          goNext={forceNext}\n          onClose={closeModal}\n          isCritical={errors.isCritical}\n        />\n      )}\n    </div>\n  );\n}\n";var u=t(9813),l=t(4848);const d={};function p(e){let{source:n,data:p=d,options:m}=e;const g=n.maxPage&&"1"!==n.maxPage;return(0,l.jsxs)("div",{className:r.FormExample,children:[(0,l.jsxs)(o.A,{children:[(0,l.jsx)(s.A,{value:"source",label:"Source",default:!0,children:(0,l.jsx)(a.A,{language:"json",className:r.FormExampleCode,children:JSON.stringify(n,null,2)})}),(0,l.jsx)(s.A,{value:"data",label:"Data",children:(0,l.jsx)(a.A,{language:"json",className:r.FormExampleCode,children:JSON.stringify(p,null,2)})})]}),(0,l.jsxs)(o.A,{children:[(0,l.jsx)(s.A,{value:"code",label:"Code",children:(0,l.jsx)(a.A,{language:"tsx",className:r.FormExampleCode,children:g?c:i})}),(0,l.jsx)(s.A,{value:"render",label:"Rendu",default:!0,children:(0,l.jsx)("div",{className:r.FormExampleRender,children:(0,l.jsx)(u.A,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:()=>{const e=g?t(2937).g:t(7171).S;return(0,l.jsx)(e,{source:n,data:p,options:m})}})})})]})]})}},7171:(e,n,t)=>{"use strict";t.d(n,{S:()=>s});var r=t(2612),o=t(4848);function s(e){let{source:n,data:t}=e;const{getComponents:s,Provider:a}=(0,r.O1)(n,t,{initialPage:"1"});return(0,o.jsx)(a,{children:(0,o.jsx)(r.R2,{components:s()})})}},2937:(e,n,t)=>{"use strict";t.d(n,{g:()=>a});var r=t(2612),o=t(6540),s=t(4848);function a(e){let{source:n,data:t,options:a}=e;const{getComponents:i,isLastPage:c,isFirstPage:u,goPreviousPage:l,goNextPage:d,Provider:p,compileControls:m}=(0,r.O1)(n,t,{initialPage:"1",...a}),[g,x]=(0,o.useState)();return(0,s.jsxs)("div",{children:[(0,s.jsx)(p,{children:(0,s.jsx)(r.R2,{components:i(),componentProps:()=>({errors:g?.currentErrors})})}),(0,s.jsxs)("div",{style:{marginTop:".7rem",display:"flex",gap:".2rem"},children:[(0,s.jsx)("button",{className:"button button--primary",disabled:u,onClick:l,children:"Pr\xe9c\xe9dent"}),(0,s.jsx)("button",{className:"button button--primary",disabled:c,onClick:()=>{const e=m();e.currentErrors?x(e):d()},children:"Suivant"})]}),g&&(0,s.jsx)(r.I1,{errors:g.currentErrors,goNext:()=>{x(void 0),d()},onClose:()=>{x(void 0)},isCritical:g.isCritical})]})}},5053:()=>{},5843:()=>{}}]);