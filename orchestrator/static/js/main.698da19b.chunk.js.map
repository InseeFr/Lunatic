{"version":3,"sources":["img/lunatic-logo.png","mode/component.js","orchestrator/orchestrator.js","orchestrator/collect.js","orchestrator/management.js","home.js","index.js"],"names":["Mode","value","setValue","options","className","id","label","handleChange","e","Object","values","writable","Orchestrator","savingType","preferences","source","features","pagination","data","management","filterDescription","suggesters","autoSuggesterLoading","suggesterFetcher","lunatic","questionnaire","components","bindings","goNext","goPrevious","page","setPage","maxPage","isFirstPage","isLastPage","flow","Button","console","log","map","q","componentType","Component","labelPosition","currentPage","onClick","disabled","Collect","dataForCollect","COLLECTED","url","a","fetch","headers","Accept","response","tooltip","Management","S","Home","useState","mode","setMode","includes","alt","src","logo","dependencies","replace","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.698da19b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/lunatic-logo.65dab674.png\";","import React from 'react';\nimport { Dropdown } from '@inseefr/lunatic';\nimport './mode.scss';\n\nconst Mode = ({ value, setValue, options }) => (\n\t<div className=\"mode-container\">\n\t\t<div className=\"mode\">\n\t\t\t<Dropdown\n\t\t\t\tid=\"mode\"\n\t\t\t\tlabel=\"Mode\"\n\t\t\t\tvalue={value}\n\t\t\t\toptions={options}\n\t\t\t\thandleChange={(e) => setValue(Object.values(e)[0])}\n\t\t\t\twritable\n\t\t\t/>\n\t\t</div>\n\t</div>\n);\n\nexport default Mode;\n","import React from 'react';\nimport * as lunatic from '@inseefr/lunatic';\n\nconst Orchestrator = ({\n\tsavingType,\n\tpreferences,\n\tsource,\n\tfeatures,\n\tpagination = false,\n\tdata,\n\tmanagement,\n\tfilterDescription,\n\tsuggesters,\n\tautoSuggesterLoading,\n\tsuggesterFetcher,\n}) => {\n\tconst {\n\t\tquestionnaire,\n\t\tcomponents,\n\t\thandleChange,\n\t\tbindings,\n\t\tpagination: {\n\t\t\tgoNext,\n\t\t\tgoPrevious,\n\t\t\tpage,\n\t\t\tsetPage,\n\t\t\tmaxPage,\n\t\t\tisFirstPage,\n\t\t\tisLastPage,\n\t\t\tflow,\n\t\t},\n\t} = lunatic.useLunatic(source, data, {\n\t\tsavingType,\n\t\tpreferences,\n\t\tfeatures,\n\t\tmanagement,\n\t\tpagination,\n\t\tsuggesters,\n\t\tautoSuggesterLoading,\n\t\tsuggesterFetcher,\n\t});\n\n\tconst Button = lunatic.Button;\n\n\tconsole.log(lunatic.getCollectedState(questionnaire));\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"components\">\n\t\t\t\t{components.map((q) => {\n\t\t\t\t\tconst { id, componentType } = q;\n\t\t\t\t\tconst Component = lunatic[componentType];\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"lunatic-component\" key={`component-${id}`}>\n\t\t\t\t\t\t\t<Component\n\t\t\t\t\t\t\t\t{...q}\n\t\t\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\t\t\tlabelPosition=\"TOP\"\n\t\t\t\t\t\t\t\tpreferences={preferences}\n\t\t\t\t\t\t\t\tmanagement={management}\n\t\t\t\t\t\t\t\tfilterDescription={filterDescription}\n\t\t\t\t\t\t\t\tfeatures={features}\n\t\t\t\t\t\t\t\tbindings={bindings}\n\t\t\t\t\t\t\t\twritable\n\t\t\t\t\t\t\t\tcurrentPage={page}\n\t\t\t\t\t\t\t\tsetPage={setPage}\n\t\t\t\t\t\t\t\tflow={flow}\n\t\t\t\t\t\t\t\tpagination={pagination}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t{pagination && (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"pagination\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={goPrevious}\n\t\t\t\t\t\t\tdisabled={isFirstPage}\n\t\t\t\t\t\t\tvalue=\"Previous\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button onClick={goNext} disabled={isLastPage} value=\"Next\" />\n\t\t\t\t\t\t<div className=\"btn-page-init\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => setPage('1')}\n\t\t\t\t\t\t\t\tdisabled={isFirstPage}\n\t\t\t\t\t\t\t\tvalue=\"Page 1\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{`Page : ${page}/${maxPage}`}</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Orchestrator;\n","import React from 'react';\nimport Orchestrator from './orchestrator';\nimport data from './data';\n\nconst Collect = ({ source, pagination }) => {\n\tconst { COLLECTED, ...dataForCollect } = data;\n\tasync function suggesterFetcher(url) {\n\t\tconst response = await fetch(url, {\n\t\t\theaders: { Accept: 'application/json' },\n\t\t});\n\t\treturn response;\n\t}\n\treturn (\n\t\t<Orchestrator\n\t\t\tsavingType={'COLLECTED'}\n\t\t\tpreferences={['COLLECTED']}\n\t\t\tfeatures={['VTL']}\n\t\t\tsource={source}\n\t\t\tdata={dataForCollect}\n\t\t\ttooltip={false}\n\t\t\tpagination={pagination}\n\t\t\twritable\n\t\t\tsuggesters={{\n\t\t\t\t'naf-rev2': {\n\t\t\t\t\turl: 'https://inseefr.github.io/Lunatic/storybook/naf-rev2.json',\n\t\t\t\t},\n\t\t\t}}\n\t\t\tsuggesterFetcher={suggesterFetcher}\n\t\t\tautoSuggesterLoading\n\t\t/>\n\t);\n};\n\nexport default Collect;\n","import React from 'react';\nimport Orchestrator from './orchestrator';\nimport data from './data';\n\nconst Management = ({ source, pagination }) => (\n\t<Orchestrator\n\t\tsavingType={'EDITED'}\n\t\tpreferences={['COLLECTED', 'FORCED', 'EDITED']}\n\t\tsource={source}\n\t\tfeatures={['VTL']}\n\t\tdata={data}\n\t\tpagination={pagination}\n\t\tmanagement\n\t\tfilterDescription\n\t\twritable\n\t/>\n);\n\nexport default Management;\n","import React, { useState } from 'react';\nimport logo from './img/lunatic-logo.png';\nimport Mode from './mode';\nimport { CollectOrchestrator, ManagementOrchestrator } from './orchestrator';\nimport * as S from './sources';\nimport { dependencies } from '../package.json';\n\nconst options = [\n\t{ value: 'none-collect', label: 'Collect - None', q: S.simpsonsCollect },\n\t{\n\t\tvalue: 'sequences-collect',\n\t\tlabel: 'Collect - Sequences',\n\t\tq: S.simpsonsSequenceCollect,\n\t},\n\t{\n\t\tvalue: 'questions-collect',\n\t\tlabel: 'Collect - Questions',\n\t\tq: S.simpsonsQuestionCollect,\n\t},\n\t{\n\t\tvalue: 'none-management',\n\t\tlabel: 'None - Management',\n\t\tq: S.simpsonsManagement,\n\t},\n\t{\n\t\tvalue: 'sequences-management',\n\t\tlabel: 'Sequences - Management',\n\t\tq: S.simpsonsSequenceManagement,\n\t},\n\t{\n\t\tvalue: 'questions-management',\n\t\tlabel: 'Questions - Management',\n\t\tq: S.simpsonsQuestionManagement,\n\t},\n];\n\nconst Home = () => {\n\tconst [mode, setMode] = useState('');\n\n\tconst pagination =\n\t\tmode && (mode.includes('sequences') || mode.includes('questions'));\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"lunatic-img-container\">\n\t\t\t\t<img className=\"lunatic-img\" alt=\"lunatic\" src={logo} />\n\t\t\t\t<div>{`Lunatic version: ${dependencies['@inseefr/lunatic'].replace(\n\t\t\t\t\t'^',\n\t\t\t\t\t''\n\t\t\t\t)}`}</div>\n\t\t\t</div>\n\t\t\t<Mode value={mode} setValue={setMode} options={options} />\n\t\t\t{mode && mode.includes('collect') && (\n\t\t\t\t<CollectOrchestrator\n\t\t\t\t\tsource={\n\t\t\t\t\t\toptions.find(({ value }) => value === mode)?.q || S.simpsonsCollect\n\t\t\t\t\t}\n\t\t\t\t\tpagination={pagination}\n\t\t\t\t\tmode={mode}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{mode && mode.includes('management') && (\n\t\t\t\t<ManagementOrchestrator\n\t\t\t\t\tsource={\n\t\t\t\t\t\toptions.find(({ value }) => value === mode)?.q ||\n\t\t\t\t\t\tS.simpsonsManagement\n\t\t\t\t\t}\n\t\t\t\t\tpagination={pagination}\n\t\t\t\t\tmode={mode}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Home from './home';\nimport './index.scss';\n\nReactDOM.render(<Home />, document.getElementById('root'));\n"],"sourceRoot":""}