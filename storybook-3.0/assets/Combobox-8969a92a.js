import{s as v,j as r,y as c,C as ye,L as ge}from"./Label-467e0f29.js";import{r as f}from"./index-76fb7be0.js";const K=v("ComboboxContainer",({children:e,className:n,classNamePrefix:a,id:s,classStyle:t="default-style",errors:i})=>r.jsxs("div",{id:`${a??"lunatic"}-combo-box-container-${s}`,className:c(n,`${a??"lunatic"}-combo-box-container`,`${a??"lunatic"}-suggester-${t}`,"lunatic-suggester-default-style",t),children:[e,i&&r.jsx(ye,{errors:i})]}));K.__docgenInfo={description:"",methods:[],displayName:"ComboboxContainer",props:{classStyle:{defaultValue:{value:"'default-style'",computed:!1},required:!1}}};const y={ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Home:"Home",End:"End",Enter:"Enter",Escape:"Escape",Tab:"Tab"},Y=v("ComboboxContentBox",({children:e,classNamePrefix:n,focused:a})=>r.jsx("div",{className:c(`${n??"lunatic"}-combo-box`,{focused:a}),children:e}));Y.__docgenInfo={description:"",methods:[],displayName:"ComboboxContentBox"};function ve(e){const n=f.useRef(e);return n.current=e,n}function he(e,n,a){const s=ve(n),t=f.useCallback(i=>{s.current(i)},[s]);f.useEffect(()=>(document.addEventListener(e,t,a),()=>{document.removeEventListener(e,t,a)}),[e,a,t])}function W({children:e,focused:n,onFocus:a,onBlur:s,onKeyDown:t,classNamePrefix:i}){const o=f.useRef(null),l=f.useCallback(u=>{var d;!((d=o.current)!=null&&d.contains(u.target))&&s&&s()},[o,s]);he("mousedown",l);const p=f.useCallback(function(u){var m;const{key:d}=u;switch(u.stopPropagation(),d){case y.Escape:case y.Enter:case y.Tab:(m=o.current)==null||m.focus();break}t(d)},[t]);return r.jsx(Y,{classNamePrefix:i,focused:n,children:r.jsx("div",{className:c(`${i??"lunatic"}-combo-box-content`,{focused:n}),ref:o,tabIndex:0,onFocus:a,onClick:a,onKeyDown:p,children:e})})}W.__docgenInfo={description:"",methods:[],displayName:"ComboboxContent"};function G(e){const{top:n}=e;return n}function z(e){const{top:n,height:a}=e;return n+a}function xe(e,n){const a=Math.min(G(e),G(n));return Math.max(z(e),z(n))-a<e.height+n.height}function Z({children:e,index:n,selected:a,onSelect:s}){const t=f.useRef(null),i=f.useCallback(o=>{o.stopPropagation(),o.preventDefault(),s(n)},[s,n]);return f.useEffect(()=>{const{current:o}=t;if(o&&a&&o.parentNode){const l=o.getBoundingClientRect(),p=o.parentNode.getBoundingClientRect();xe(l,p)||o.scrollIntoView()}},[t,a]),r.jsx("li",{className:c("lunatic-combo-box-option-container",{selected:a}),role:"option","aria-selected":a,onClick:i,ref:t,children:e})}Z.__docgenInfo={description:"",methods:[],displayName:"ComboboxOptionContainer"};const w=v("ComboboxPanelContainer",({children:e,focused:n,expanded:a,id:s})=>r.jsx("ul",{id:`lunatic-combo-box-panel-${s}`,"aria-label":"suggestions",className:c("lunatic-combo-box-panel",{focused:n,expanded:a}),role:"listbox",children:e}));w.__docgenInfo={description:"",methods:[],displayName:"ComboboxPanelContainer"};const J={DEFAULT_BUTTON_ADD:{fr:"Ajouter une ligne",en:"Add row"},DEFAULT_BUTTON_REMOVE:{fr:"Supprimer une ligne",en:"Remove row"},MODAL_IGNORE:{fr:"Poursuivre",en:"Ignore"},MODAL_CORRECT:{fr:"Corriger ma réponse",en:"Correct"},DK:{fr:"Ne sais pas",en:"Don't know"},RF:{fr:"Refus",en:"Refused"},PLACEHOLDER:{fr:"Commencez votre saisie...",en:"Start typing..."},SUGGESTER_LOADING:{fr:"Liste en cours de chargement",en:"List is loading"},SUGGESTER_NO_RESULT:{fr:"Aucun résultat trouvé",en:"No results"},SUGGESTER_ERROR:{fr:"Erreur lors du chargement de la liste",en:"An error has occured while loading the list"},SUGGESTER_ARBITRARY:{fr:"Choisir",en:"Select"}};function _(e,n){return Object.entries(n).reduce((a,[s,t])=>({...a,[s]:t[e]}),{})}const V=["en","fr"],Q=()=>{const e=navigator.language.split("-")[0],n=V.map(a=>a.toString()).indexOf(e);return n===-1?V[0]:V[n]},B={thousandSeparator:{fr:" ",en:","},decimalSeparator:{fr:",",en:"."}},qe=Object.values(B.decimalSeparator),Te=_("fr",J),Ce=_("en",J),Ne=_("fr",B),we=_("en",B),$e={...Q()==="fr"?Ne:we,allDecimalSeparators:qe},R=Q()==="fr"?Te:Ce,X=v("ComboboxOption",({option:e,selected:n})=>{const{id:a,value:s,label:t}=e;return s==="OTHER"?r.jsx("div",{className:c("lunatic-combo-box-option",{selected:n}),children:r.jsx("span",{className:"label",children:`${R.SUGGESTER_NO_RESULT} : ${R.SUGGESTER_ARBITRARY} "${t}"`})}):t&&typeof t=="string"&&t.length?r.jsxs("div",{className:c("lunatic-combo-box-option",{selected:n}),children:[r.jsx("span",{className:"id",children:a||s}),r.jsx("span",{children:" - "}),r.jsx("span",{className:"label",children:t})]}):r.jsx("div",{className:c("lunatic-combo-box-option",{selected:n}),children:r.jsx("span",{className:"id",children:a})})});X.__docgenInfo={description:"",methods:[],displayName:"ComboboxOption",props:{option:{required:!0,tsType:{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]}},description:""},selected:{required:!1,tsType:{name:"boolean"},description:""}}};function ee({optionRenderer:e,options:n=[],focused:a,selectedIndex:s,expanded:t,id:i,search:o,onSelect:l,isLoading:p}){const u=t?n:[],d=e??X;return u.length===0&&!o?null:p?r.jsx(w,{expanded:t,focused:a,id:`${i}-list`,children:r.jsx("div",{className:"lunatic-combo-box-option",children:r.jsx("span",{className:"label",children:R.SUGGESTER_LOADING})})}):o&&u.length===0?r.jsx(w,{expanded:t,focused:a,id:`${i}-list`,children:r.jsx("div",{className:"lunatic-combo-box-option",children:r.jsx("span",{className:"label",children:R.SUGGESTER_NO_RESULT})})}):u.length===0?r.jsx(w,{expanded:t,focused:a,id:`${i}-list`,children:r.jsx("div",{className:"lunatic-combo-box-option",children:r.jsx("span",{className:"label",children:R.SUGGESTER_NO_RESULT})})}):r.jsx(w,{expanded:t,focused:a,id:`${i}-list`,children:u.map((m,b)=>r.jsx(Z,{index:b.toString(),selected:s===b,onSelect:l,children:r.jsx(d,{option:m,selected:s===b,search:o})},m.id??m.value))})}ee.__docgenInfo={description:"Floating menu containing selectable options",methods:[],displayName:"ComboboxPanel",props:{optionRenderer:{required:!1,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
	option: ComboboxOptionType;
	selected?: boolean;
	search?: string;
}`,signature:{properties:[{key:"option",value:{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]},required:!0}},{key:"selected",value:{name:"boolean",required:!1}},{key:"search",value:{name:"string",required:!1}}]}}],raw:`ComponentType<{
	option: ComboboxOptionType;
	selected?: boolean;
	search?: string;
}>`},description:"@deprecated use createCustomizableField with ComboboxOptionRenderer as name."},options:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]}}],raw:"Array<ComboboxOptionType>"},description:"",defaultValue:{value:"[]",computed:!1}},focused:{required:!1,tsType:{name:"boolean"},description:""},selectedIndex:{required:!1,tsType:{name:"union",raw:"number | string | null",elements:[{name:"number"},{name:"string"},{name:"null"}]},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},search:{required:!1,tsType:{name:"string"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}};function q({className:e,children:n}){return r.jsx("i",{className:c("lunatic-icon",e),children:n})}q.__docgenInfo={description:"",methods:[],displayName:"LunaticIcon",props:{className:{required:!1,tsType:{name:"string"},description:""}}};function ne({className:e,width:n=32,height:a=32}){return r.jsx(q,{className:e,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:r.jsx("path",{d:"M 7.097006,7.0709627 C 6.4710386,7.6950801 6.0348033,8.5167883 6,9.3333333 l 6.666666,6.6666677 -6.6666655,6.666666 C 6.0406655,24.255963 7.7002437,25.930395 9.3333333,26 L 15.999999,19.333334 22.666665,26 C 24.255962,25.95934 25.930393,24.299755 26,22.666667 L 19.333332,16.000001 26,9.3333334 C 25.959335,7.7440359 24.299754,6.069605 22.666665,6 L 15.999999,12.666666 9.3333333,6 C 8.5386853,6.020332 7.7229758,6.4468492 7.097006,7.0709627 Z"})})})}ne.__docgenInfo={description:"",methods:[],displayName:"CrossIcon",props:{className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}}}};function Re({className:e,width:n=32,height:a=32}){return r.jsx(q,{className:e,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[r.jsx("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}Re.__docgenInfo={description:"",methods:[],displayName:"RadioCheckedIcon",props:{className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}}}};function ke({className:e,width:n=32,height:a=32}){return r.jsx(q,{className:e,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}ke.__docgenInfo={description:"",methods:[],displayName:"RadioUncheckedIcon",props:{className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}}}};function je({className:e,width:n=32,height:a=32}){return r.jsx(q,{className:e,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[r.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),r.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]})})}je.__docgenInfo={description:"",methods:[],displayName:"CheckboxCheckedIcon",props:{className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}}}};function Ee({className:e,width:n=32,height:a=32}){return r.jsx(q,{className:e,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[r.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),r.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}Ee.__docgenInfo={description:"",methods:[],displayName:"CheckboxUncheckedIcon",props:{className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}}}};const H=()=>{};function Ge(e,n){let a;return[(...i)=>new Promise((o,l)=>{a&&clearTimeout(a),a=window.setTimeout(async()=>{try{o(await e(...i))}catch(p){l(p)}},n)}),()=>clearTimeout(a)]}function ae({className:e,children:n,tabIndex:a,title:s="Fab",onClick:t=H,onKeyDown:i=H,disabled:o}){return r.jsx("button",{className:c("lunatic-fab",e),tabIndex:a,title:s,onClick:t,onKeyDown:i,disabled:o,"aria-label":s,children:n})}ae.__docgenInfo={description:"",methods:[],displayName:"IconButton",props:{title:{defaultValue:{value:"'Fab'",computed:!1},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},required:!1},onKeyDown:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};function Oe(e){return!e||e.trim().length===0}function Ie(e){if(typeof e=="function")return n=>{n.key==="Enter"&&e()}}function re({className:e,search:n,onClick:a,editable:s}){const t=f.useMemo(()=>Ie(a),[a]);return s?r.jsx(ae,{className:c("mini","lunatic-combo-box-fab",e),title:"delete",onClick:a,disabled:Oe(n),onKeyDown:t,children:r.jsx(ne,{className:"lunatic-combo-box-icon"})}):null}const _e=v("ComboboxClearButton",re);re.__docgenInfo={description:"",methods:[],displayName:"LunaticComboboxClearButton",props:{className:{required:!1,tsType:{name:"string"},description:""},search:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},editable:{required:!1,tsType:{name:"boolean"},description:""}}};function Se(e,n,a){if(e){const{id:s,value:t,label:i}=e;return i?`${s||t} - ${i}`:s||t}return n&&n.trim().length?n:a??""}const te=({option:e,placeholder:n,search:a,disabled:s=!1,readOnly:t=!1})=>{const i=!e&&(!a||a.length===0);return(e==null?void 0:e.value)==="OTHER"?r.jsx("div",{className:c("lunatic-combo-box-selected",{disabled:s,readOnly:t}),children:r.jsx("span",{className:"selection",children:e.label})}):r.jsx("div",{className:c("lunatic-combo-box-selected",{disabled:s,readOnly:t}),children:r.jsx("span",{className:c({placeholder:i,selection:!i}),children:Se(e,a,n)})})},Le=v("ComboboxLabelSelection",te);te.__docgenInfo={description:"",methods:[],displayName:"LunaticComboBoxLabelSelection",props:{option:{required:!1,tsType:{name:"union",raw:"ComboboxOptionType | null",elements:[{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]}},{name:"null"}]},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},search:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};function se({placeholder:e,disabled:n,onChange:a,value:s,id:t,labelledBy:i,focused:o,className:l,invalid:p}){const u=f.useRef(null);f.useEffect(()=>{u.current&&o&&u.current.focus()},[u,o]);const d=m=>{const{key:b}=m;(b==="ArrowUp"||b==="ArrowDown")&&m.preventDefault()};return r.jsx("input",{ref:u,id:t,className:c("lunatic-combo-box-input",l),type:"text",onChange:a,value:s,"aria-label":"lunatic-combo-box","aria-invalid":p,title:"combo-box",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:e,disabled:n,"aria-labelledby":i,onKeyDown:d})}const Ae=v("ComboboxInput",se);se.__docgenInfo={description:"",methods:[],displayName:"LunaticComboboxInput",props:{placeholder:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"string"},description:""},labelledBy:{required:!1,tsType:{name:"string"},description:""},focused:{required:!1,tsType:{name:"boolean"},description:""},invalid:{required:!1,tsType:{name:"boolean"},description:""}}};function ie({labelRenderer:e,placeholder:n,search:a,expanded:s,disabled:t,readOnly:i,focused:o,onChange:l,selectedIndex:p,options:u,editable:d,labelId:m,id:b,classNamePrefix:g,invalid:k}){const T=!d||!s,j=p!==void 0?u[p]:void 0,S=e??Le;return r.jsx("div",{id:b,className:c(`${g??"lunatic"}-combo-box-selection`,{focused:o,disabled:t}),role:"combobox","aria-controls":"todo","aria-haspopup":"listbox","aria-expanded":s,"aria-autocomplete":"list","aria-owns":b,"aria-labelledby":m,children:T?r.jsx(S,{option:j,placeholder:n,search:a,disabled:t,readOnly:i}):r.jsx(Ae,{invalid:k,id:`combobox-input-${b}`,className:"lunatic-combo-box-input",onChange:L=>l==null?void 0:l(L.target.value),value:a,placeholder:n,disabled:t,readOnly:i,focused:o})})}ie.__docgenInfo={description:`Label displayed when a value is selected in the ComboBox
This label can either be an input (when editable or expanded) or a simple span`,methods:[],displayName:"ComboboxSelection",props:{expanded:{required:!1,tsType:{name:"boolean"},description:""},focused:{required:!1,tsType:{name:"boolean"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(s: string | null) => void",signature:{arguments:[{type:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},name:"s"}],return:{name:"void"}}},description:""},editable:{required:!1,tsType:{name:"boolean"},description:""},labelId:{required:!1,tsType:{name:"string"},description:""},id:{required:!1,tsType:{name:"string"},description:""},classNamePrefix:{required:!1,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},invalid:{required:!1,tsType:{name:"boolean"},description:""},labelRenderer:{required:!1,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
	option?: ComboboxOptionType;
	placeholder?: string;
	search?: string;
	disabled?: boolean;
}`,signature:{properties:[{key:"option",value:{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]},required:!1}},{key:"placeholder",value:{name:"string",required:!1}},{key:"search",value:{name:"string",required:!1}},{key:"disabled",value:{name:"boolean",required:!1}}]}}],raw:`ComponentType<{
	option?: ComboboxOptionType;
	placeholder?: string;
	search?: string;
	disabled?: boolean;
}>`},description:"@deprecated use createCustomizableField with ComboboxLabelRenderer as name."},placeholder:{required:!1,tsType:{name:"string"},description:""},selectedIndex:{required:!1,tsType:{name:"number"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]}}],raw:"Array<ComboboxOptionType>"},description:""},search:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};function De(e){if(typeof e=="string"){const n=parseInt(e,10);if(Number.isNaN(n))throw new Error(`Cannot cast ${e} to int`);return n}if(typeof e=="number")return e;throw new Error(`Cannot cast ${typeof e} to int`)}function Ve(e,n,a){return e<n?n:e>a?a:e}function ze(e){return typeof e=="number"&&Number.isFinite(e)}const P="";function oe({className:e,classNamePrefix:n,classStyle:a="default-style",placeholder:s="Commencez votre saisie...",editable:t=!1,disabled:i,readOnly:o,id:l,optionRenderer:p,labelRenderer:u,onChange:d,onSelect:m,value:b,options:g,messageError:k,search:T=P,getOptionValue:j=Me,label:S,description:L,errors:M,onBlur:h,onFocus:A,isLoading:le}){const[U,x]=f.useState(!1),[E,F]=f.useState(!1),O=Be(g,b,j),$=`label-${l}`,ue=()=>{i||o||(A==null||A(),x(!0),F(!0))},de=()=>{i||o||(x(!1),F(!1),h==null||h())},C=(N,I=!0)=>{const D=Ve(De(N),0,g.length),be=g[D];I&&(x(!1),h==null||h()),m(j(be))},ce=N=>{d==null||d(N)},pe=()=>{x(!1),d==null||d(P),m(null)},me=N=>{const I=g.length;switch(N){case y.Tab:case y.Escape:x(!1);return;case y.ArrowDown:C((O??-1)+1,!1);return;case y.ArrowUp:C((O??I)-1,!1);return;case y.Home:C(0,!1);return;case y.End:C(I-1,!1);return;case y.Enter:x(D=>!D);return}},fe=!i||!o;return k?r.jsx("div",{className:"lunatic-combo-box-message-error",children:k}):r.jsxs(K,{id:l,className:e,classStyle:a,classNamePrefix:n,errors:M,children:[r.jsx(ge,{htmlFor:l,id:$,description:L,children:S}),r.jsxs(W,{focused:E,onFocus:ue,onBlur:de,onKeyDown:me,classNamePrefix:n,children:[r.jsx(ie,{labelRenderer:u,placeholder:s,search:T,expanded:U,id:l,labelId:$,disabled:i,readOnly:o,focused:E,editable:t,selectedIndex:O,options:g,onChange:ce,classNamePrefix:n,invalid:!!M}),r.jsx(ee,{isLoading:le,optionRenderer:p,options:g,focused:E,selectedIndex:O,expanded:U,id:l,search:T,onSelect:C})]}),fe&&r.jsx(_e,{className:c({focused:E}),search:T,onClick:pe,editable:t})]})}function Be(e,n,a){if(Array.isArray(e))return e.map(a).findIndex(s=>s===n)}function Me(e={value:""}){const{id:n,value:a}=e;return n||a}const He=v("Combobox",oe);oe.__docgenInfo={description:"",methods:[],displayName:"LunaticComboBox",props:{expanded:{required:!1,tsType:{name:"boolean"},description:""},focused:{required:!1,tsType:{name:"boolean"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(s: string | null) => void",signature:{arguments:[{type:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},name:"s"}],return:{name:"void"}}},description:""},editable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},labelId:{required:!1,tsType:{name:"string"},description:""},id:{required:!1,tsType:{name:"string"},description:""},classNamePrefix:{required:!1,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},invalid:{required:!1,tsType:{name:"boolean"},description:""},labelRenderer:{required:!1,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
	option?: ComboboxOptionType;
	placeholder?: string;
	search?: string;
	disabled?: boolean;
}`,signature:{properties:[{key:"option",value:{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]},required:!1}},{key:"placeholder",value:{name:"string",required:!1}},{key:"search",value:{name:"string",required:!1}},{key:"disabled",value:{name:"boolean",required:!1}}]}}],raw:`ComponentType<{
	option?: ComboboxOptionType;
	placeholder?: string;
	search?: string;
	disabled?: boolean;
}>`},description:"@deprecated use createCustomizableField with ComboboxLabelRenderer as name."},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Commencez votre saisie...'",computed:!1}},selectedIndex:{required:!1,tsType:{name:"union",raw:"number | string | null",elements:[{name:"number"},{name:"string"},{name:"null"}]},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]}}],raw:"ComboboxOptionType[]"},description:""},search:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},optionRenderer:{required:!1,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
	option: ComboboxOptionType;
	selected?: boolean;
	search?: string;
}`,signature:{properties:[{key:"option",value:{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]},required:!0}},{key:"selected",value:{name:"boolean",required:!1}},{key:"search",value:{name:"string",required:!1}}]}}],raw:`ComponentType<{
	option: ComboboxOptionType;
	selected?: boolean;
	search?: string;
}>`},description:"@deprecated use createCustomizableField with ComboboxOptionRenderer as name."},isLoading:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(s: string | null) => void",signature:{arguments:[{type:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},name:"s"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},classStyle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'default-style'",computed:!1}},value:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},messageError:{required:!1,tsType:{name:"string"},description:""},getOptionValue:{required:!1,tsType:{name:"signature",type:"function",raw:"(o: ComboboxOptionType) => string",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
	id?: string;
	description?: ReactNode;
	label?: ReactNode;
	value: string;
	search?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"description",value:{name:"ReactNode",required:!1}},{key:"label",value:{name:"ReactNode",required:!1}},{key:"value",value:{name:"string",required:!0}},{key:"search",value:{name:"string",required:!1}}]}},name:"o"}],return:{name:"string"}}},description:"",defaultValue:{value:`function getDefaultOptionValue(option: ComboboxOptionType = { value: '' }) {
	const { id, value } = option;
	return id || value;
}`,computed:!1}},label:{required:!1,tsType:{name:"ReactNode"},description:""},description:{required:!1,tsType:{name:"ReactNode"},description:""},errors:{required:!1,tsType:{name:"Array",elements:[{name:"intersection",raw:`Pick<
	ControlType,
	'id' | 'criticality' | 'typeOfControl'
> & {
	errorMessage: ReactNode;
}`,elements:[{name:"Pick",elements:[{name:"signature",type:"object",raw:`{
	id: string;
	criticality: 'INFO' | 'WARN' | 'ERROR';
	typeOfControl: 'FORMAT' | 'CONSISTENCY';
	control: LabelType;
	errorMessage: LabelType;
	bindingDependencies?: string[];
	type?: 'roundabout' | 'ROW' | 'simple';
	iterations?: number;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"criticality",value:{name:"union",raw:"'INFO' | 'WARN' | 'ERROR'",elements:[{name:"literal",value:"'INFO'"},{name:"literal",value:"'WARN'"},{name:"literal",value:"'ERROR'"}],required:!0}},{key:"typeOfControl",value:{name:"union",raw:"'FORMAT' | 'CONSISTENCY'",elements:[{name:"literal",value:"'FORMAT'"},{name:"literal",value:"'CONSISTENCY'"}],required:!0}},{key:"control",value:{name:"signature",type:"object",raw:`{
	value: string;
	type: T;
}`,signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"type",value:{name:"T",required:!0}}]},required:!0}},{key:"errorMessage",value:{name:"signature",type:"object",raw:`{
	value: string;
	type: T;
}`,signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"type",value:{name:"T",required:!0}}]},required:!0}},{key:"bindingDependencies",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"type",value:{name:"union",raw:"'roundabout' | 'ROW' | 'simple'",elements:[{name:"literal",value:"'roundabout'"},{name:"literal",value:"'ROW'"},{name:"literal",value:"'simple'"}],required:!1}},{key:"iterations",value:{name:"number",required:!1}}]}},{name:"union",raw:"'id' | 'criticality' | 'typeOfControl'",elements:[{name:"literal",value:"'id'"},{name:"literal",value:"'criticality'"},{name:"literal",value:"'typeOfControl'"}]}],raw:`Pick<
	ControlType,
	'id' | 'criticality' | 'typeOfControl'
>`},{name:"signature",type:"object",raw:`{
	errorMessage: ReactNode;
}`,signature:{properties:[{key:"errorMessage",value:{name:"ReactNode",required:!0}}]}}]}],raw:"LunaticError[]"},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{He as C,R as D,Re as R,je as a,Ee as b,ke as c,Ge as d,ze as e,De as f,$e as i,ve as u,H as v};
