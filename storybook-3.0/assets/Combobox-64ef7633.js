import{s as _,a as x,y as p,j as t,C as pe,L as me}from"./Label-e4fb97ec.js";import{r as u}from"./index-76fb7be0.js";const fe=_("ComboboxContainer",({children:e,className:n,classNamePrefix:a,id:r,classStyle:o="default-style",errors:l})=>x("div",{id:`${a??"lunatic"}-combo-box-container-${r}`,className:p(n,`${a??"lunatic"}-combo-box-container`,`${a??"lunatic"}-suggester-${o}`,"lunatic-suggester-default-style",o),children:[e,l&&t(pe,{errors:l})]})),h={ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Home:"Home",End:"End",Enter:"Enter",Escape:"Escape",Tab:"Tab"},be=_("ComboboxContentBox",({children:e,classNamePrefix:n,focused:a})=>t("div",{className:p(`${n??"lunatic"}-combo-box`,{focused:a}),children:e}));function he(e){const n=u.useRef(e);return n.current=e,n}function ye(e,n,a){const r=he(n),o=u.useCallback(l=>{r.current(l)},[r]);u.useEffect(()=>(document.addEventListener(e,o,a),()=>{document.removeEventListener(e,o,a)}),[e,a,o])}function O({children:e,focused:n,onFocus:a,onBlur:r,onKeyDown:o,classNamePrefix:l}){const i=u.useRef(null),s=u.useCallback(d=>{var c;!((c=i.current)!=null&&c.contains(d.target))&&r&&r()},[i,r]);ye("mousedown",s);const f=u.useCallback(function(d){var m;const{key:c}=d;switch(d.stopPropagation(),c){case h.Escape:case h.Enter:case h.Tab:(m=i.current)==null||m.focus();break}o(c)},[o]);return t(be,{classNamePrefix:l,focused:n,children:t("div",{className:p(`${l??"lunatic"}-combo-box-content`,{focused:n}),ref:i,tabIndex:0,onFocus:a,onClick:a,onKeyDown:f,children:e})})}try{O.displayName="ComboboxContent",O.__docgenInfo={description:"",displayName:"ComboboxContent",props:{focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"() => void"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"() => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(key: string) => void"}},classNamePrefix:{defaultValue:null,description:"",name:"classNamePrefix",required:!1,type:{name:"string"}}}}}catch{}function Z(e){const{top:n}=e;return n}function j(e){const{top:n,height:a}=e;return n+a}function ge(e,n){const a=Math.min(Z(e),Z(n));return Math.max(j(e),j(n))-a<e.height+n.height}function R({children:e,index:n,selected:a,onSelect:r}){const o=u.useRef(null),l=u.useCallback(i=>{i.stopPropagation(),i.preventDefault(),r(n)},[r,n]);return u.useEffect(()=>{const{current:i}=o;if(i&&a&&i.parentNode){const s=i.getBoundingClientRect(),f=i.parentNode.getBoundingClientRect();ge(s,f)||i.scrollIntoView()}},[o,a]),t("li",{className:p("lunatic-combo-box-option-container",{selected:a}),role:"option","aria-selected":a,onClick:l,ref:o,children:e})}try{R.displayName="ComboboxOptionContainer",R.__docgenInfo={description:"",displayName:"ComboboxOptionContainer",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(index: string) => void"}}}}}catch{}const xe=_("ComboboxPanelContainer",({children:e,focused:n,expanded:a,id:r})=>t("ul",{id:`lunatic-combo-box-panel-${r}`,"aria-label":"suggestions",className:p("lunatic-combo-box-panel",{focused:n,expanded:a}),role:"listbox",children:e})),_e=_("ComboboxOption",({option:e,selected:n})=>{const{id:a,value:r,label:o}=e;return o&&typeof o=="string"&&o.length?x("div",{className:p("lunatic-combo-box-option",{selected:n}),children:[t("span",{className:"id",children:a||r}),t("span",{children:" - "}),t("span",{className:"label",children:o})]}):t("div",{className:p("lunatic-combo-box-option",{selected:n}),children:t("span",{className:"id",children:a})})});function M({optionRenderer:e,options:n=[],focused:a,selectedIndex:r,expanded:o,id:l,search:i,onSelect:s}){const f=o?n:[],d=e??_e;return t(xe,{expanded:o,focused:a,id:`${l}-list`,children:f.map((c,m)=>t(R,{index:m.toString(),selected:r===m,onSelect:s,children:t(d,{option:c,selected:r===m,search:i})},c.id??c.value))})}try{M.displayName="ComboboxPanel",M.__docgenInfo={description:"Floating menu containing selectable options",displayName:"ComboboxPanel",props:{optionRenderer:{defaultValue:null,description:"@deprecated use createCustomizableField with ComboboxOptionRenderer as name.",name:"optionRenderer",required:!1,type:{name:"ComponentType<{ option: ComboboxOptionType; selected?: boolean; search?: string; }> | undefined"}},options:{defaultValue:{value:"[]"},description:"",name:"options",required:!1,type:{name:"ComboboxOptionType[]"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"string | number | null"}},expanded:{defaultValue:null,description:"",name:"expanded",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},search:{defaultValue:null,description:"",name:"search",required:!1,type:{name:"string"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(value: string) => void"}}}}}catch{}function b({className:e,children:n}){return t("i",{className:p("lunatic-icon",e),children:n})}try{b.displayName="LunaticIcon",b.__docgenInfo={description:"",displayName:"LunaticIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function $({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 7.097006,7.0709627 C 6.4710386,7.6950801 6.0348033,8.5167883 6,9.3333333 l 6.666666,6.6666677 -6.6666655,6.666666 C 6.0406655,24.255963 7.7002437,25.930395 9.3333333,26 L 15.999999,19.333334 22.666665,26 C 24.255962,25.95934 25.930393,24.299755 26,22.666667 L 19.333332,16.000001 26,9.3333334 C 25.959335,7.7440359 24.299754,6.069605 22.666665,6 L 15.999999,12.666666 9.3333333,6 C 8.5386853,6.020332 7.7229758,6.4468492 7.097006,7.0709627 Z"})})})}try{$.displayName="CrossIcon",$.__docgenInfo={description:"",displayName:"CrossIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function Y({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 25.628748,11.329813 C 25.38152,11.109877 25.088459,11 24.749838,11 H 7.2500941 C 6.9113359,11 6.6184798,11.109877 6.3710468,11.329813 6.1236139,11.549992 6,11.810303 6,12.111233 c 0,0.300869 0.1236139,0.56118 0.3710468,0.781177 l 8.7499062,7.777534 C 15.368659,20.88988 15.661516,21 16,21 c 0.338484,0 0.631614,-0.11012 0.878842,-0.330056 l 8.749906,-7.777595 C 25.875907,12.672413 26,12.412102 26,12.111172 c 0,-0.300869 -0.124093,-0.56118 -0.371252,-0.781359 z"})})})}try{Y.displayName="ClosedIcon",Y.__docgenInfo={description:"",displayName:"ClosedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function G({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 11.329813,6.371252 C 11.109877,6.61848 11,6.911541 11,7.250162 v 17.499744 c 0,0.338758 0.109877,0.631614 0.329813,0.879047 C 11.549992,25.876386 11.810303,26 12.111233,26 c 0.300869,0 0.56118,-0.123614 0.781177,-0.371047 l 7.777534,-8.749906 C 20.88988,16.631341 21,16.338484 21,16 21,15.661516 20.88988,15.368386 20.669944,15.121158 L 12.892349,6.371252 C 12.672413,6.124093 12.412102,6 12.111172,6 11.810303,6 11.549992,6.124093 11.329813,6.371252 Z"})})})}try{G.displayName="OpenedIcon",G.__docgenInfo={description:"",displayName:"OpenedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function J({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"m 10.628906,5.8808594 c -0.214987,-0.001 -0.42313,0.066105 -0.621094,0.203125 -0.197929,0.13695 -0.3337126,0.3059125 -0.4082026,0.5078125 -0.07434,0.20177 -0.063157,0.3725087 0.033203,0.5117187 L 10.667969,8.5996094 C 7.7654347,10.429719 6.000564,13.619938 6,17.054688 c 0,5.522849 4.477153,10 10,10 5.522847,0 10,-4.477151 10,-10 C 26.000084,13.846958 24.464581,10.867019 21.925781,9 l -2.167969,4.773438 c 0.779895,0.889532 1.238599,2.0462 1.242188,3.28125 0,2.76142 -2.238576,5 -5,5 -2.761424,0 -5,-2.238581 -5,-5 0.0042,-1.793391 0.969178,-3.443679 2.523438,-4.330079 l 1.089843,1.574219 c 0.09638,0.13927 0.25171,0.209318 0.466797,0.210938 0.215229,10e-4 0.421172,-0.06601 0.619141,-0.203125 0.19792,-0.13696 0.333879,-0.305933 0.408203,-0.507813 l 2.626953,-7.1386718 c 0.07422,-0.2019799 0.06311,-0.3725587 -0.0332,-0.5117187 -0.0963,-0.13917 -0.251768,-0.2093975 -0.4668,-0.2109375 z"})})})}try{J.displayName="LoadIcon",J.__docgenInfo={description:"",displayName:"LoadIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function Q({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 16.211514,6 C 11.574486,6.008 7.1494292,7.94279 4,11.34621 c 0.067313,0.60594 0.3511557,1.08182 1.0781965,1.29181 2.8398143,-3.15866 6.8857655,-4.96513 11.1333175,-4.9708 4.246875,0.008 8.291469,1.81516 11.12987,4.9742 0.42856,-0.18331 0.899659,-0.21808 1.074753,-1.28833 C 25.269539,7.94895 20.847185,6.00922 16.211514,6 Z m 0,3.33452 c -3.859338,0.004 -7.5270269,1.68269 -10.055121,4.59867 0.082129,0.59595 0.3347147,1.09028 1.0747495,1.2918 2.214919,-2.67556 5.5069425,-4.22502 8.9803715,-4.22664 3.472148,0.004 6.761427,1.5572 8.973481,4.23352 0.574616,-0.21997 1.032388,-0.55661 1.081639,-1.30212 -2.528736,-2.91477 -6.196335,-4.59084 -10.05512,-4.59523 z m -0.0034,3.33101 c -3.084894,0.002 -5.995941,1.42878 -7.8883982,3.86498 0.015118,0.87625 0.5660293,1.08257 1.095416,1.31584 1.5613712,-2.20255 4.0931392,-3.51208 6.7929792,-3.51359 2.700508,0.004 5.231123,1.31845 6.789531,3.52395 0.886465,-0.21657 1.135403,-0.70692 1.098867,-1.31932 -1.891063,-2.43881 -4.802322,-3.8677 -7.888395,-3.87186 z m 0,3.33449 c -2.316849,0.002 -4.46631,1.20748 -5.676888,3.18293 L 16.211554,26 21.884999,19.18982 c -1.2089,-1.97805 -3.358668,-3.18598 -5.676885,-3.1898 z"})})})}try{Q.displayName="NetworkIcon",Q.__docgenInfo={description:"",displayName:"NetworkIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function W({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 15.998805,0 C 15.791758,0 15.614821,0.068587 15.4636,0.2030911 L 10.109162,4.9578137 C 9.95798,5.0923491 9.884566,5.2516109 9.884566,5.4356753 c 0,0.1840189 0.07342,0.3431857 0.224596,0.4778615 0.151203,0.1345354 0.330468,0.2030913 0.537594,0.2030913 h 4.205182 V 14.854326 H 6.1166281 v -4.202792 c 0,-0.2072 -0.068555,-0.388637 -0.2030912,-0.539983 C 5.7788793,9.9602251 5.6197345,9.8845661 5.4356754,9.8845661 c -0.1840494,0 -0.3432982,0.07566 -0.4778615,0.2269849 L 0.2030911,15.4636 C 0.0685559,15.615109 1.2e-6,15.794159 0,16.001195 0,16.208242 0.068592,16.385179 0.2030911,16.5364 l 4.7547228,5.352049 c 0.1345352,0.151182 0.2937975,0.226985 0.4778615,0.226985 0.1840188,0 0.3431856,-0.07581 0.4778615,-0.226985 0.1345353,-0.151203 0.2030912,-0.328079 0.2030912,-0.535205 v -4.205182 h 8.7353099 v 8.73531 h -4.202794 c -0.207124,0 -0.388779,0.06855 -0.539982,0.203092 -0.151179,0.134675 -0.224596,0.293842 -0.224596,0.477861 0,0.184064 0.07341,0.343326 0.224596,0.477862 L 15.4636,31.796909 C 15.614821,31.931407 15.794147,32 16.001195,32 c 0.207036,-1e-6 0.383696,-0.06855 0.535205,-0.203091 l 5.352049,-4.754722 c 0.151326,-0.134563 0.226985,-0.293813 0.226985,-0.477862 0,-0.184058 -0.07566,-0.343204 -0.226985,-0.477861 -0.151346,-0.134536 -0.337561,-0.203092 -0.544762,-0.203092 h -4.198013 v -8.73531 h 8.737698 v 4.202793 c 0,0.207125 0.06855,0.386391 0.203092,0.537594 0.134675,0.151179 0.293842,0.226985 0.477861,0.226985 0.184064,0 0.343326,-0.0758 0.477862,-0.226985 L 31.796909,16.5364 C 31.931407,16.385179 32,16.205853 32,15.998805 31.999999,15.791768 31.93144,15.615109 31.796909,15.4636 L 27.042187,10.111551 C 26.907624,9.9602251 26.748374,9.8845661 26.564325,9.8845661 c -0.184058,0 -0.343204,0.07566 -0.477861,0.2269849 -0.134536,0.151346 -0.203092,0.335171 -0.203092,0.542372 v 4.200403 H 17.145674 V 6.1166281 h 4.200403 c 0.207201,0 0.391026,-0.068557 0.542372,-0.2030913 0.151326,-0.1346576 0.226985,-0.2938028 0.226985,-0.4778615 0,-0.1840494 -0.07566,-0.3432989 -0.226985,-0.4778616 L 16.5364,0.2030911 C 16.384891,0.0685559 16.205841,1.5e-6 15.998805,0 Z"})})})}try{W.displayName="OnDragIcon",W.__docgenInfo={description:"",displayName:"OnDragIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function X({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:x("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[t("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}try{X.displayName="RadioCheckedIcon",X.__docgenInfo={description:"",displayName:"RadioCheckedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function ee({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:x("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}try{ee.displayName="RadioUncheckedIcon",ee.__docgenInfo={description:"",displayName:"RadioUncheckedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function ne({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:x("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[t("path",{d:"M0 0h24v24H0z",fill:"none"}),t("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]})})}try{ne.displayName="CheckboxCheckedIcon",ne.__docgenInfo={description:"",displayName:"CheckboxCheckedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function ae({className:e,width:n=32,height:a=32}){return t(b,{className:e,children:x("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[t("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),t("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}try{ae.displayName="CheckboxUncheckedIcon",ae.__docgenInfo={description:"",displayName:"CheckboxUncheckedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}const te=()=>{};function H({className:e,children:n,tabIndex:a,title:r="Fab",onClick:o=te,onKeyDown:l=te,disabled:i}){return t("button",{className:p("lunatic-fab",e),tabIndex:a,title:r,onClick:o,onKeyDown:l,disabled:i,"aria-label":r,children:n})}try{H.displayName="IconButton",H.__docgenInfo={description:"",displayName:"IconButton",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}function ve(e){return!e||e.trim().length===0}function Ce(e){if(typeof e=="function")return n=>{n.key==="Enter"&&e()}}function we({className:e,search:n,onClick:a,editable:r}){const o=u.useMemo(()=>Ce(a),[a]);return r?t(H,{className:p("mini","lunatic-combo-box-fab",e),title:"delete",onClick:a,disabled:ve(n),onKeyDown:o,children:t($,{className:"lunatic-combo-box-icon"})}):null}const Ne=_("ComboboxClearButton",we);function Ve(e,n,a){if(e){const{id:r,value:o,label:l}=e;return l?`${r||o} - ${l}`:r||o}return n&&n.trim().length?n:a??""}const Ie=({option:e,placeholder:n,search:a,disabled:r=!1,readOnly:o=!1})=>{const l=!e&&(!a||a.length===0);return t("div",{className:p("lunatic-combo-box-selected",{disabled:r,readOnly:o}),children:t("span",{className:p({placeholder:l,selection:!l}),children:Ve(e,a,n)})})},qe=_("ComboboxLabelSelection",Ie);function ke({placeholder:e,disabled:n,onChange:a,value:r,id:o,labelledBy:l,focused:i,className:s,invalid:f}){const d=u.useRef(null);u.useEffect(()=>{d.current&&i&&d.current.focus()},[d,i]);const c=m=>{const{key:y}=m;(y==="ArrowUp"||y==="ArrowDown")&&m.preventDefault()};return t("input",{ref:d,id:o,className:p("lunatic-combo-box-input",s),type:"text",onChange:a,value:r,"aria-label":"lunatic-combo-box","aria-invalid":f,title:"combo-box",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:e,disabled:n,"aria-labelledby":l,onKeyDown:c})}const Le=_("ComboboxInput",ke);function A({labelRenderer:e,placeholder:n,search:a,expanded:r,disabled:o,readOnly:l,focused:i,onChange:s,selectedIndex:f,options:d,editable:c,labelId:m,id:y,classNamePrefix:g,invalid:N}){const L=!c||!r,V=f!==void 0?d[f]:void 0,B=e??qe;return t("div",{id:y,className:p(`${g??"lunatic"}-combo-box-selection`,{focused:i,disabled:o}),role:"combobox","aria-controls":"todo","aria-haspopup":"listbox","aria-expanded":r,"aria-autocomplete":"list","aria-owns":y,"aria-labelledby":m,children:L?t(B,{option:V,placeholder:n,search:a,disabled:o,readOnly:l}):t(Le,{invalid:N,id:`combobox-input-${y}`,className:"lunatic-combo-box-input",onChange:S=>s==null?void 0:s(S.target.value),value:a,placeholder:n,disabled:o,readOnly:l,focused:i})})}try{A.displayName="ComboboxSelection",A.__docgenInfo={description:`Label displayed when a value is selected in the ComboBox
This label can either be an input (when editable or expanded) or a simple span`,displayName:"ComboboxSelection",props:{expanded:{defaultValue:null,description:"",name:"expanded",required:!1,type:{name:"boolean"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((s: string | null) => void)"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},labelId:{defaultValue:null,description:"",name:"labelId",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},classNamePrefix:{defaultValue:null,description:"",name:"classNamePrefix",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},invalid:{defaultValue:null,description:"",name:"invalid",required:!1,type:{name:"boolean"}},labelRenderer:{defaultValue:null,description:"@deprecated use createCustomizableField with ComboboxLabelRenderer as name.",name:"labelRenderer",required:!1,type:{name:"ComponentType<{ option?: ComboboxOptionType; placeholder?: string; search?: string | undefined; disabled?: boolean | undefined; }> | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ComboboxOptionType[]"}},search:{defaultValue:null,description:"",name:"search",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}function Be(e){if(typeof e=="string"){const n=parseInt(e,10);if(Number.isNaN(n))throw new Error(`Cannot cast ${e} to int`);return n}if(typeof e=="number")return e;throw new Error(`Cannot cast ${typeof e} to int`)}function Se(e,n,a){return e<n?n:e>a?a:e}function Me(e){return typeof e=="number"&&Number.isFinite(e)}const oe="";function Ee({className:e,classNamePrefix:n,classStyle:a="default-style",placeholder:r="Commencez votre saisie...",editable:o=!1,disabled:l,readOnly:i,id:s,optionRenderer:f,labelRenderer:d,onChange:c,onSelect:m,value:y,options:g,messageError:N,search:L=oe,getOptionValue:V=De,label:B,description:S,errors:F,onBlur:E}){const[T,v]=u.useState(!1),[I,K]=u.useState(!1),[z,U]=u.useState(L??""),q=ze(g,y,V),P=`label-${s}`,re=()=>{l||i||(v(!0),K(!0))},le=()=>{l||i||(E==null||E(),v(!1),K(!1))},w=(C,k=!0)=>{const D=Se(Be(C),0,g.length),ue=g[D];k&&v(!1),m(V(ue))},ie=C=>{U(C??""),c==null||c(C)},ce=()=>{U(""),v(!1),c==null||c(oe),m(null)},se=C=>{const k=g.length;switch(C){case h.Tab:case h.Escape:v(!1);return;case h.ArrowDown:w((q??-1)+1,!1);return;case h.ArrowUp:w((q??k)-1,!1);return;case h.Home:w(0,!1);return;case h.End:w(k-1,!1);return;case h.Enter:v(D=>!D);return}},de=!l||!i;return N?t("div",{className:"lunatic-combo-box-message-error",children:N}):x(fe,{id:s,className:e,classStyle:a,classNamePrefix:n,errors:F,children:[t(me,{htmlFor:s,id:P,description:S,children:B}),x(O,{focused:I,onFocus:re,onBlur:le,onKeyDown:se,classNamePrefix:n,children:[t(A,{labelRenderer:d,placeholder:r,search:z,expanded:T,id:s,labelId:P,disabled:l,readOnly:i,focused:I,editable:o,selectedIndex:q,options:g,onChange:ie,classNamePrefix:n,invalid:!!F}),t(M,{optionRenderer:f,options:g,focused:I,selectedIndex:q,expanded:T,id:s,search:z,onSelect:w})]}),de&&t(Ne,{className:p({focused:I}),search:z,onClick:ce,editable:o})]})}function ze(e,n,a){if(Array.isArray(e))return e.map(a).findIndex(r=>r===n)}function De(e={value:""}){const{id:n,value:a}=e;return n||a}const $e=_("Combobox",Ee);export{$e as C,X as R,ne as a,ae as b,ee as c,Be as f,Me as i,he as u,te as v};
