import{s as v,a as _,y as u,j as t,C as _e,L as ve}from"./Label-e4fb97ec.js";import{r as f}from"./index-76fb7be0.js";const xe=v("ComboboxContainer",({children:e,className:n,classNamePrefix:a,id:o,classStyle:r="default-style",errors:l})=>_("div",{id:`${a??"lunatic"}-combo-box-container-${o}`,className:u(n,`${a??"lunatic"}-combo-box-container`,`${a??"lunatic"}-suggester-${r}`,"lunatic-suggester-default-style",r),children:[e,l&&t(_e,{errors:l})]})),y={ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",Home:"Home",End:"End",Enter:"Enter",Escape:"Escape",Tab:"Tab"},we=v("ComboboxContentBox",({children:e,classNamePrefix:n,focused:a})=>t("div",{className:u(`${n??"lunatic"}-combo-box`,{focused:a}),children:e}));function Ce(e){const n=f.useRef(e);return n.current=e,n}function Ne(e,n,a){const o=Ce(n),r=f.useCallback(l=>{o.current(l)},[o]);f.useEffect(()=>(document.addEventListener(e,r,a),()=>{document.removeEventListener(e,r,a)}),[e,a,r])}function z({children:e,focused:n,onFocus:a,onBlur:o,onKeyDown:r,classNamePrefix:l}){const i=f.useRef(null),c=f.useCallback(s=>{var d;!((d=i.current)!=null&&d.contains(s.target))&&o&&o()},[i,o]);Ne("mousedown",c);const p=f.useCallback(function(s){var m;const{key:d}=s;switch(s.stopPropagation(),d){case y.Escape:case y.Enter:case y.Tab:(m=i.current)==null||m.focus();break}r(d)},[r]);return t(we,{classNamePrefix:l,focused:n,children:t("div",{className:u(`${l??"lunatic"}-combo-box-content`,{focused:n}),ref:i,tabIndex:0,onFocus:a,onClick:a,onKeyDown:p,children:e})})}try{z.displayName="ComboboxContent",z.__docgenInfo={description:"",displayName:"ComboboxContent",props:{focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"() => void"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"() => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(key: string) => void"}},classNamePrefix:{defaultValue:null,description:"",name:"classNamePrefix",required:!1,type:{name:"string"}}}}}catch{}function J(e){const{top:n}=e;return n}function Q(e){const{top:n,height:a}=e;return n+a}function Ie(e,n){const a=Math.min(J(e),J(n));return Math.max(Q(e),Q(n))-a<e.height+n.height}function M({children:e,index:n,selected:a,onSelect:o}){const r=f.useRef(null),l=f.useCallback(i=>{i.stopPropagation(),i.preventDefault(),o(n)},[o,n]);return f.useEffect(()=>{const{current:i}=r;if(i&&a&&i.parentNode){const c=i.getBoundingClientRect(),p=i.parentNode.getBoundingClientRect();Ie(c,p)||i.scrollIntoView()}},[r,a]),t("li",{className:u("lunatic-combo-box-option-container",{selected:a}),role:"option","aria-selected":a,onClick:l,ref:r,children:e})}try{M.displayName="ComboboxOptionContainer",M.__docgenInfo={description:"",displayName:"ComboboxOptionContainer",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(index: string) => void"}}}}}catch{}const k=v("ComboboxPanelContainer",({children:e,focused:n,expanded:a,id:o})=>t("ul",{id:`lunatic-combo-box-panel-${o}`,"aria-label":"suggestions",className:u("lunatic-combo-box-panel",{focused:n,expanded:a}),role:"listbox",children:e})),se={DEFAULT_BUTTON_ADD:{fr:"Ajouter une ligne",en:"Add row"},DEFAULT_BUTTON_REMOVE:{fr:"Supprimer une ligne",en:"Remove row"},MODAL_IGNORE:{fr:"Poursuivre",en:"Ignore"},MODAL_CORRECT:{fr:"Corriger ma réponse",en:"Correct"},DK:{fr:"Ne sais pas",en:"Don't know"},RF:{fr:"Refus",en:"Refused"},PLACEHOLDER:{fr:"Commencez votre saisie...",en:"Start typing..."},SUGGESTER_LOADING:{fr:"Liste en cours de chargement",en:"List is loading"},SUGGESTER_NO_RESULT:{fr:"Aucun résultat trouvé",en:"No results"},SUGGESTER_ERROR:{fr:"Erreur lors du chargement de la liste",en:"An error has occured while loading the list"},SUGGESTER_ARBITRARY:{fr:"Choisir",en:"Select"}};function O(e,n){return Object.entries(n).reduce((a,[o,r])=>({...a,[o]:r[e]}),{})}const U=["en","fr"],de=()=>{const e=navigator.language.split("-")[0],n=U.map(a=>a.toString()).indexOf(e);return n===-1?U[0]:U[n]},P={thousandSeparator:{fr:" ",en:","},decimalSeparator:{fr:",",en:"."}},Ve=Object.values(P.decimalSeparator),qe=O("fr",se),Ee=O("en",se),Se=O("fr",P),Re=O("en",P),Ye={...de()==="fr"?Se:Re,allDecimalSeparators:Ve},V=de()==="fr"?qe:Ee,Le=v("ComboboxOption",({option:e,selected:n})=>{const{id:a,value:o,label:r}=e;return o==="OTHER"?t("div",{className:u("lunatic-combo-box-option",{selected:n}),children:t("span",{className:"label",children:`${V.SUGGESTER_NO_RESULT} : ${V.SUGGESTER_ARBITRARY} "${r}"`})}):r&&typeof r=="string"&&r.length?_("div",{className:u("lunatic-combo-box-option",{selected:n}),children:[t("span",{className:"id",children:a||o}),t("span",{children:" - "}),t("span",{className:"label",children:r})]}):t("div",{className:u("lunatic-combo-box-option",{selected:n}),children:t("span",{className:"id",children:a})})});function $({optionRenderer:e,options:n=[],focused:a,selectedIndex:o,expanded:r,id:l,search:i,onSelect:c,isLoading:p}){const s=r?n:[],d=e??Le;return s.length===0&&!i?null:p?t(k,{expanded:r,focused:a,id:`${l}-list`,children:t("div",{className:"lunatic-combo-box-option",children:t("span",{className:"label",children:V.SUGGESTER_LOADING})})}):i&&s.length===0?t(k,{expanded:r,focused:a,id:`${l}-list`,children:t("div",{className:"lunatic-combo-box-option",children:t("span",{className:"label",children:V.SUGGESTER_NO_RESULT})})}):s.length===0?t(k,{expanded:r,focused:a,id:`${l}-list`,children:t("div",{className:"lunatic-combo-box-option",children:t("span",{className:"label",children:V.SUGGESTER_NO_RESULT})})}):t(k,{expanded:r,focused:a,id:`${l}-list`,children:s.map((m,b)=>t(M,{index:b.toString(),selected:o===b,onSelect:c,children:t(d,{option:m,selected:o===b,search:i})},m.id??m.value))})}try{$.displayName="ComboboxPanel",$.__docgenInfo={description:"Floating menu containing selectable options",displayName:"ComboboxPanel",props:{optionRenderer:{defaultValue:null,description:"@deprecated use createCustomizableField with ComboboxOptionRenderer as name.",name:"optionRenderer",required:!1,type:{name:"ComponentType<{ option: ComboboxOptionType; selected?: boolean; search?: string; }> | undefined"}},options:{defaultValue:{value:"[]"},description:"",name:"options",required:!1,type:{name:"ComboboxOptionType[]"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"string | number | null"}},expanded:{defaultValue:null,description:"",name:"expanded",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},search:{defaultValue:null,description:"",name:"search",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(value: string) => void"}}}}}catch{}function h({className:e,children:n}){return t("i",{className:u("lunatic-icon",e),children:n})}try{h.displayName="LunaticIcon",h.__docgenInfo={description:"",displayName:"LunaticIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function G({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 7.097006,7.0709627 C 6.4710386,7.6950801 6.0348033,8.5167883 6,9.3333333 l 6.666666,6.6666677 -6.6666655,6.666666 C 6.0406655,24.255963 7.7002437,25.930395 9.3333333,26 L 15.999999,19.333334 22.666665,26 C 24.255962,25.95934 25.930393,24.299755 26,22.666667 L 19.333332,16.000001 26,9.3333334 C 25.959335,7.7440359 24.299754,6.069605 22.666665,6 L 15.999999,12.666666 9.3333333,6 C 8.5386853,6.020332 7.7229758,6.4468492 7.097006,7.0709627 Z"})})})}try{G.displayName="CrossIcon",G.__docgenInfo={description:"",displayName:"CrossIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function W({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 25.628748,11.329813 C 25.38152,11.109877 25.088459,11 24.749838,11 H 7.2500941 C 6.9113359,11 6.6184798,11.109877 6.3710468,11.329813 6.1236139,11.549992 6,11.810303 6,12.111233 c 0,0.300869 0.1236139,0.56118 0.3710468,0.781177 l 8.7499062,7.777534 C 15.368659,20.88988 15.661516,21 16,21 c 0.338484,0 0.631614,-0.11012 0.878842,-0.330056 l 8.749906,-7.777595 C 25.875907,12.672413 26,12.412102 26,12.111172 c 0,-0.300869 -0.124093,-0.56118 -0.371252,-0.781359 z"})})})}try{W.displayName="ClosedIcon",W.__docgenInfo={description:"",displayName:"ClosedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function X({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 11.329813,6.371252 C 11.109877,6.61848 11,6.911541 11,7.250162 v 17.499744 c 0,0.338758 0.109877,0.631614 0.329813,0.879047 C 11.549992,25.876386 11.810303,26 12.111233,26 c 0.300869,0 0.56118,-0.123614 0.781177,-0.371047 l 7.777534,-8.749906 C 20.88988,16.631341 21,16.338484 21,16 21,15.661516 20.88988,15.368386 20.669944,15.121158 L 12.892349,6.371252 C 12.672413,6.124093 12.412102,6 12.111172,6 11.810303,6 11.549992,6.124093 11.329813,6.371252 Z"})})})}try{X.displayName="OpenedIcon",X.__docgenInfo={description:"",displayName:"OpenedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function ee({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"m 10.628906,5.8808594 c -0.214987,-0.001 -0.42313,0.066105 -0.621094,0.203125 -0.197929,0.13695 -0.3337126,0.3059125 -0.4082026,0.5078125 -0.07434,0.20177 -0.063157,0.3725087 0.033203,0.5117187 L 10.667969,8.5996094 C 7.7654347,10.429719 6.000564,13.619938 6,17.054688 c 0,5.522849 4.477153,10 10,10 5.522847,0 10,-4.477151 10,-10 C 26.000084,13.846958 24.464581,10.867019 21.925781,9 l -2.167969,4.773438 c 0.779895,0.889532 1.238599,2.0462 1.242188,3.28125 0,2.76142 -2.238576,5 -5,5 -2.761424,0 -5,-2.238581 -5,-5 0.0042,-1.793391 0.969178,-3.443679 2.523438,-4.330079 l 1.089843,1.574219 c 0.09638,0.13927 0.25171,0.209318 0.466797,0.210938 0.215229,10e-4 0.421172,-0.06601 0.619141,-0.203125 0.19792,-0.13696 0.333879,-0.305933 0.408203,-0.507813 l 2.626953,-7.1386718 c 0.07422,-0.2019799 0.06311,-0.3725587 -0.0332,-0.5117187 -0.0963,-0.13917 -0.251768,-0.2093975 -0.4668,-0.2109375 z"})})})}try{ee.displayName="LoadIcon",ee.__docgenInfo={description:"",displayName:"LoadIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function ne({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 16.211514,6 C 11.574486,6.008 7.1494292,7.94279 4,11.34621 c 0.067313,0.60594 0.3511557,1.08182 1.0781965,1.29181 2.8398143,-3.15866 6.8857655,-4.96513 11.1333175,-4.9708 4.246875,0.008 8.291469,1.81516 11.12987,4.9742 0.42856,-0.18331 0.899659,-0.21808 1.074753,-1.28833 C 25.269539,7.94895 20.847185,6.00922 16.211514,6 Z m 0,3.33452 c -3.859338,0.004 -7.5270269,1.68269 -10.055121,4.59867 0.082129,0.59595 0.3347147,1.09028 1.0747495,1.2918 2.214919,-2.67556 5.5069425,-4.22502 8.9803715,-4.22664 3.472148,0.004 6.761427,1.5572 8.973481,4.23352 0.574616,-0.21997 1.032388,-0.55661 1.081639,-1.30212 -2.528736,-2.91477 -6.196335,-4.59084 -10.05512,-4.59523 z m -0.0034,3.33101 c -3.084894,0.002 -5.995941,1.42878 -7.8883982,3.86498 0.015118,0.87625 0.5660293,1.08257 1.095416,1.31584 1.5613712,-2.20255 4.0931392,-3.51208 6.7929792,-3.51359 2.700508,0.004 5.231123,1.31845 6.789531,3.52395 0.886465,-0.21657 1.135403,-0.70692 1.098867,-1.31932 -1.891063,-2.43881 -4.802322,-3.8677 -7.888395,-3.87186 z m 0,3.33449 c -2.316849,0.002 -4.46631,1.20748 -5.676888,3.18293 L 16.211554,26 21.884999,19.18982 c -1.2089,-1.97805 -3.358668,-3.18598 -5.676885,-3.1898 z"})})})}try{ne.displayName="NetworkIcon",ne.__docgenInfo={description:"",displayName:"NetworkIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function ae({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:t("path",{d:"M 15.998805,0 C 15.791758,0 15.614821,0.068587 15.4636,0.2030911 L 10.109162,4.9578137 C 9.95798,5.0923491 9.884566,5.2516109 9.884566,5.4356753 c 0,0.1840189 0.07342,0.3431857 0.224596,0.4778615 0.151203,0.1345354 0.330468,0.2030913 0.537594,0.2030913 h 4.205182 V 14.854326 H 6.1166281 v -4.202792 c 0,-0.2072 -0.068555,-0.388637 -0.2030912,-0.539983 C 5.7788793,9.9602251 5.6197345,9.8845661 5.4356754,9.8845661 c -0.1840494,0 -0.3432982,0.07566 -0.4778615,0.2269849 L 0.2030911,15.4636 C 0.0685559,15.615109 1.2e-6,15.794159 0,16.001195 0,16.208242 0.068592,16.385179 0.2030911,16.5364 l 4.7547228,5.352049 c 0.1345352,0.151182 0.2937975,0.226985 0.4778615,0.226985 0.1840188,0 0.3431856,-0.07581 0.4778615,-0.226985 0.1345353,-0.151203 0.2030912,-0.328079 0.2030912,-0.535205 v -4.205182 h 8.7353099 v 8.73531 h -4.202794 c -0.207124,0 -0.388779,0.06855 -0.539982,0.203092 -0.151179,0.134675 -0.224596,0.293842 -0.224596,0.477861 0,0.184064 0.07341,0.343326 0.224596,0.477862 L 15.4636,31.796909 C 15.614821,31.931407 15.794147,32 16.001195,32 c 0.207036,-1e-6 0.383696,-0.06855 0.535205,-0.203091 l 5.352049,-4.754722 c 0.151326,-0.134563 0.226985,-0.293813 0.226985,-0.477862 0,-0.184058 -0.07566,-0.343204 -0.226985,-0.477861 -0.151346,-0.134536 -0.337561,-0.203092 -0.544762,-0.203092 h -4.198013 v -8.73531 h 8.737698 v 4.202793 c 0,0.207125 0.06855,0.386391 0.203092,0.537594 0.134675,0.151179 0.293842,0.226985 0.477861,0.226985 0.184064,0 0.343326,-0.0758 0.477862,-0.226985 L 31.796909,16.5364 C 31.931407,16.385179 32,16.205853 32,15.998805 31.999999,15.791768 31.93144,15.615109 31.796909,15.4636 L 27.042187,10.111551 C 26.907624,9.9602251 26.748374,9.8845661 26.564325,9.8845661 c -0.184058,0 -0.343204,0.07566 -0.477861,0.2269849 -0.134536,0.151346 -0.203092,0.335171 -0.203092,0.542372 v 4.200403 H 17.145674 V 6.1166281 h 4.200403 c 0.207201,0 0.391026,-0.068557 0.542372,-0.2030913 0.151326,-0.1346576 0.226985,-0.2938028 0.226985,-0.4778615 0,-0.1840494 -0.07566,-0.3432989 -0.226985,-0.4778616 L 16.5364,0.2030911 C 16.384891,0.0685559 16.205841,1.5e-6 15.998805,0 Z"})})})}try{ae.displayName="OnDragIcon",ae.__docgenInfo={description:"",displayName:"OnDragIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function te({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:_("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[t("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}try{te.displayName="RadioCheckedIcon",te.__docgenInfo={description:"",displayName:"RadioCheckedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function re({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:_("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}try{re.displayName="RadioUncheckedIcon",re.__docgenInfo={description:"",displayName:"RadioUncheckedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function oe({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:_("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[t("path",{d:"M0 0h24v24H0z",fill:"none"}),t("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]})})}try{oe.displayName="CheckboxCheckedIcon",oe.__docgenInfo={description:"",displayName:"CheckboxCheckedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}function le({className:e,width:n=32,height:a=32}){return t(h,{className:e,children:_("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,x:"0",y:"0",enableBackground:"new 0 0 32 32",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:[t("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),t("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}try{le.displayName="CheckboxUncheckedIcon",le.__docgenInfo={description:"",displayName:"CheckboxUncheckedIcon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:{value:"32"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"32"},description:"",name:"height",required:!1,type:{name:"number"}}}}}catch{}const ie=()=>{};function Ze(e,n){let a;return[(...l)=>new Promise((i,c)=>{a&&clearTimeout(a),a=window.setTimeout(async()=>{try{i(await e(...l))}catch(p){c(p)}},n)}),()=>clearTimeout(a)]}function H({className:e,children:n,tabIndex:a,title:o="Fab",onClick:r=ie,onKeyDown:l=ie,disabled:i}){return t("button",{className:u("lunatic-fab",e),tabIndex:a,title:o,onClick:r,onKeyDown:l,disabled:i,"aria-label":o,children:n})}try{H.displayName="IconButton",H.__docgenInfo={description:"",displayName:"IconButton",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}function ke(e){return!e||e.trim().length===0}function Oe(e){if(typeof e=="function")return n=>{n.key==="Enter"&&e()}}function Te({className:e,search:n,onClick:a,editable:o}){const r=f.useMemo(()=>Oe(a),[a]);return o?t(H,{className:u("mini","lunatic-combo-box-fab",e),title:"delete",onClick:a,disabled:ke(n),onKeyDown:r,children:t(G,{className:"lunatic-combo-box-icon"})}):null}const De=v("ComboboxClearButton",Te);function Be(e,n,a){if(e){const{id:o,value:r,label:l}=e;return l?`${o||r} - ${l}`:o||r}return n&&n.trim().length?n:a??""}const Ae=({option:e,placeholder:n,search:a,disabled:o=!1,readOnly:r=!1})=>{const l=!e&&(!a||a.length===0);return(e==null?void 0:e.value)==="OTHER"?t("div",{className:u("lunatic-combo-box-selected",{disabled:o,readOnly:r}),children:t("span",{className:"selection",children:e.label})}):t("div",{className:u("lunatic-combo-box-selected",{disabled:o,readOnly:r}),children:t("span",{className:u({placeholder:l,selection:!l}),children:Be(e,a,n)})})},Ue=v("ComboboxLabelSelection",Ae);function ze({placeholder:e,disabled:n,onChange:a,value:o,id:r,labelledBy:l,focused:i,className:c,invalid:p}){const s=f.useRef(null);f.useEffect(()=>{s.current&&i&&s.current.focus()},[s,i]);const d=m=>{const{key:b}=m;(b==="ArrowUp"||b==="ArrowDown")&&m.preventDefault()};return t("input",{ref:s,id:r,className:u("lunatic-combo-box-input",c),type:"text",onChange:a,value:o,"aria-label":"lunatic-combo-box","aria-invalid":p,title:"combo-box",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:e,disabled:n,"aria-labelledby":l,onKeyDown:d})}const Me=v("ComboboxInput",ze);function F({labelRenderer:e,placeholder:n,search:a,expanded:o,disabled:r,readOnly:l,focused:i,onChange:c,selectedIndex:p,options:s,editable:d,labelId:m,id:b,classNamePrefix:g,invalid:q}){const C=!d||!o,E=p!==void 0?s[p]:void 0,T=e??Ue;return t("div",{id:b,className:u(`${g??"lunatic"}-combo-box-selection`,{focused:i,disabled:r}),role:"combobox","aria-controls":"todo","aria-haspopup":"listbox","aria-expanded":o,"aria-autocomplete":"list","aria-owns":b,"aria-labelledby":m,children:C?t(T,{option:E,placeholder:n,search:a,disabled:r,readOnly:l}):t(Me,{invalid:q,id:`combobox-input-${b}`,className:"lunatic-combo-box-input",onChange:D=>c==null?void 0:c(D.target.value),value:a,placeholder:n,disabled:r,readOnly:l,focused:i})})}try{F.displayName="ComboboxSelection",F.__docgenInfo={description:`Label displayed when a value is selected in the ComboBox
This label can either be an input (when editable or expanded) or a simple span`,displayName:"ComboboxSelection",props:{expanded:{defaultValue:null,description:"",name:"expanded",required:!1,type:{name:"boolean"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((s: string | null) => void)"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},labelId:{defaultValue:null,description:"",name:"labelId",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},classNamePrefix:{defaultValue:null,description:"",name:"classNamePrefix",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},invalid:{defaultValue:null,description:"",name:"invalid",required:!1,type:{name:"boolean"}},labelRenderer:{defaultValue:null,description:"@deprecated use createCustomizableField with ComboboxLabelRenderer as name.",name:"labelRenderer",required:!1,type:{name:"ComponentType<{ option?: ComboboxOptionType; placeholder?: string; search?: string | undefined; disabled?: boolean | undefined; }> | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!1,type:{name:"number"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ComboboxOptionType[]"}},search:{defaultValue:null,description:"",name:"search",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}function $e(e){if(typeof e=="string"){const n=parseInt(e,10);if(Number.isNaN(n))throw new Error(`Cannot cast ${e} to int`);return n}if(typeof e=="number")return e;throw new Error(`Cannot cast ${typeof e} to int`)}function Ge(e,n,a){return e<n?n:e>a?a:e}function Je(e){return typeof e=="number"&&Number.isFinite(e)}const ce="";function He({className:e,classNamePrefix:n,classStyle:a="default-style",placeholder:o="Commencez votre saisie...",editable:r=!1,disabled:l,readOnly:i,id:c,optionRenderer:p,labelRenderer:s,onChange:d,onSelect:m,value:b,options:g,messageError:q,search:C=ce,getOptionValue:E=Pe,label:T,description:D,errors:K,onBlur:x,onFocus:B,isLoading:ue}){const[j,w]=f.useState(!1),[S,Y]=f.useState(!1),R=Fe(g,b,E),Z=`label-${c}`,pe=()=>{l||i||(B==null||B(),w(!0),Y(!0))},me=()=>{l||i||(w(!1),Y(!1),x==null||x())},N=(I,L=!0)=>{const A=Ge($e(I),0,g.length),ge=g[A];L&&(w(!1),x==null||x()),m(E(ge))},fe=I=>{d==null||d(I)},be=()=>{w(!1),d==null||d(ce),m(null)},he=I=>{const L=g.length;switch(I){case y.Tab:case y.Escape:w(!1);return;case y.ArrowDown:N((R??-1)+1,!1);return;case y.ArrowUp:N((R??L)-1,!1);return;case y.Home:N(0,!1);return;case y.End:N(L-1,!1);return;case y.Enter:w(A=>!A);return}},ye=!l||!i;return q?t("div",{className:"lunatic-combo-box-message-error",children:q}):_(xe,{id:c,className:e,classStyle:a,classNamePrefix:n,errors:K,children:[t(ve,{htmlFor:c,id:Z,description:D,children:T}),_(z,{focused:S,onFocus:pe,onBlur:me,onKeyDown:he,classNamePrefix:n,children:[t(F,{labelRenderer:s,placeholder:o,search:C,expanded:j,id:c,labelId:Z,disabled:l,readOnly:i,focused:S,editable:r,selectedIndex:R,options:g,onChange:fe,classNamePrefix:n,invalid:!!K}),t($,{isLoading:ue,optionRenderer:p,options:g,focused:S,selectedIndex:R,expanded:j,id:c,search:C,onSelect:N})]}),ye&&t(De,{className:u({focused:S}),search:C,onClick:be,editable:r})]})}function Fe(e,n,a){if(Array.isArray(e))return e.map(a).findIndex(o=>o===n)}function Pe(e={value:""}){const{id:n,value:a}=e;return n||a}const Qe=v("Combobox",He);export{Qe as C,V as D,te as R,oe as a,le as b,re as c,Ze as d,Je as e,$e as f,Ye as i,Ce as u,ie as v};
