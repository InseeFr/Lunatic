{"version":3,"file":"index.js","sources":["../src/utils/constants.js","../src/utils/lib/prop-types/declarations.js","../src/utils/lib/prop-types/options.js","../src/utils/lib/prop-types/response.js","../src/utils/lib/prop-types/value-type.js","../src/utils/lib/prop-types/lines.js","../src/utils/lib/tooltip/content.js","../src/utils/lib/tooltip/build-response.js","../src/utils/lib/alphabet.js","../src/utils/lib/label-position.js","../src/utils/lib/options-positioning.js","../src/utils/lib/responses.js","../src/utils/lib/style.js","../src/utils/lib/table/roster.js","../node_modules/style-inject/dist/style-inject.es.js","../src/components/breadcrumb/component.js","../src/components/button/component.js","../src/utils/to-expose/handler.js","../src/utils/to-expose/init-questionnaire.js","../src/utils/to-expose/state.js","../src/utils/to-expose/interpret.js","../src/components/declarations/component.js","../src/components/tooltip/img/edited.png","../src/components/tooltip/img/forced.png","../src/components/tooltip/response.js","../src/components/checkbox/group.js","../src/components/checkbox/boolean.js","../src/components/checkbox/one.js","../src/components/datepicker/component.js","../node_modules/classnames/index.js","../src/components/dropdown/shared/option.component.js","../src/components/dropdown/shared/select-panel.component.js","../src/components/dropdown/shared/select-container.component.js","../src/components/dropdown/shared/select-base.component.js","../src/components/dropdown/simple/prop-types.js","../src/components/dropdown/writable/writable-select.component.js","../src/components/dropdown/simple/simple-select-nested.component.js","../src/components/dropdown/simple/simple-select-list.component.js","../src/components/dropdown/simple/index.js","../src/components/dropdown/component.js","../src/components/input/input.js","../src/components/input/input-number.js","../src/components/progress-bar/component.js","../src/components/radio/component.js","../src/components/sequence/component.js","../src/components/subsequence/component.js","../src/components/textarea/component.js","../src/components/table/table.js"],"sourcesContent":["// Declaration position\r\n\r\nexport const BEFORE_QUESTION_TEXT = 'BEFORE_QUESTION_TEXT';\r\nexport const AFTER_QUESTION_TEXT = 'AFTER_QUESTION_TEXT';\r\nexport const DETACHABLE = 'DETACHABLE';\r\n\r\n// Declaration types\r\n\r\nexport const INSTRUCTION = 'INSTRUCTION';\r\nexport const COMMENT = 'COMMENT';\r\nexport const HELP = 'HELP';\r\nexport const WARNING = 'WARNING';\r\nexport const MESSAGE_FILTER = 'MESSAGE_FILTER';\r\nexport const STATEMENT = 'STATEMENT';\r\n","import PropTypes from 'prop-types';\r\nimport * as C from '../../constants';\r\n\r\nexport default PropTypes.arrayOf(\r\n\tPropTypes.shape({\r\n\t\tid: PropTypes.string.isRequired,\r\n\t\tdeclarationType: PropTypes.oneOf([\r\n\t\t\tC.INSTRUCTION,\r\n\t\t\tC.COMMENT,\r\n\t\t\tC.HELP,\r\n\t\t\tC.WARNING,\r\n\t\t\tC.MESSAGE_FILTER,\r\n\t\t\tC.STATEMENT,\r\n\t\t]),\r\n\t\tposition: PropTypes.oneOf([\r\n\t\t\tC.BEFORE_QUESTION_TEXT,\r\n\t\t\tC.AFTER_QUESTION_TEXT,\r\n\t\t\tC.DETACHABLE,\r\n\t\t]),\r\n\t\tlabel: PropTypes.string.isRequired,\r\n\t})\r\n).isRequired;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default PropTypes.arrayOf(\r\n\tPropTypes.shape({\r\n\t\tlabel: PropTypes.string.isRequired,\r\n\t\tvalue: PropTypes.string.isRequired,\r\n\t})\r\n);\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default PropTypes.shape({\r\n\tname: PropTypes.string,\r\n\tvalueState: PropTypes.arrayOf(\r\n\t\tPropTypes.shape({\r\n\t\t\tvalueType: PropTypes.string,\r\n\t\t\tvalue: PropTypes.oneOfType([\r\n\t\t\t\tPropTypes.string,\r\n\t\t\t\tPropTypes.number,\r\n\t\t\t\tPropTypes.bool,\r\n\t\t\t]),\r\n\t\t})\r\n\t),\r\n});\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default PropTypes.oneOf([\r\n\t'COLLECTED',\r\n\t'PREVIOUS',\r\n\t'FORCED',\r\n\t'EDITED',\r\n\t'INPUTED',\r\n]);\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default PropTypes.shape({\r\n\tmin: PropTypes.number,\r\n\tmax: PropTypes.number,\r\n});\r\n","export const buildTooltip = response => {\r\n\tif (!response || !response.valueState) return {};\r\n\tconst { valueState } = response;\r\n\tconst edited = get(valueState)('EDITED');\r\n\tconst forced = get(valueState)('FORCED');\r\n\tconst collected = get(valueState)('COLLECTED');\r\n\tif (edited && edited.value !== null) {\r\n\t\tif (forced && forced.value === null)\r\n\t\t\treturn {\r\n\t\t\t\tcontent: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: 'Brute',\r\n\t\t\t\t\t\tvalue: collected.value !== null ? collected.value : ' - ',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\timgName: 'editedImg',\r\n\t\t\t};\r\n\t\treturn {\r\n\t\t\tcontent: [\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: 'Brute',\r\n\t\t\t\t\tvalue: collected.value !== null ? collected.value : ' - ',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: 'Correction automatique',\r\n\t\t\t\t\tvalue: forced.value,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\timgName: 'editedImg',\r\n\t\t};\r\n\t}\r\n\tif (forced && forced.value !== null)\r\n\t\treturn {\r\n\t\t\tcontent: [\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: 'Brute',\r\n\t\t\t\t\tvalue: collected.value !== null ? collected.value : ' - ',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\timgName: 'forcedImg',\r\n\t\t};\r\n\treturn {};\r\n};\r\n\r\nconst get = valueState => valueType =>\r\n\tvalueState.find(v => v.valueType === valueType);\r\n","export const buildResponse = options => response => {\r\n\tif (!response || !options) return {};\r\n\tconst { name, valueState } = response;\r\n\tconst newValueState = valueState.map(({ valueType, value }) =>\r\n\t\tvalue === null\r\n\t\t\t? { valueType, value }\r\n\t\t\t: { valueType, value: options.find(o => o.value === value).label }\r\n\t);\r\n\r\n\treturn { name, valueState: newValueState };\r\n};\r\n","export const getAlphabet = () => 'abcdefghijklmnopqrstuvwxyz'.split('');\r\n","export const getLabelPositionClass = position => {\r\n\tswitch (position) {\r\n\t\tcase 'TOP':\r\n\t\t\treturn 'label-top';\r\n\t\tcase 'BOTTOM':\r\n\t\t\treturn 'label-bottom';\r\n\t\tcase 'RIGHT':\r\n\t\t\treturn 'label-right';\r\n\t\tdefault:\r\n\t\t\treturn 'label-left';\r\n\t}\r\n};\r\n","export const getItemsPositioningClass = positioning => {\r\n\tswitch (positioning) {\r\n\t\tcase 'HORIZONTAL':\r\n\t\t\treturn 'horizontal-options';\r\n\t\tcase 'VERTICAL':\r\n\t\tdefault:\r\n\t\t\treturn '';\r\n\t}\r\n};\r\n","export const getResponseName = response => (response && response.name) || '';\r\n\r\nexport const getResponseByPreference = preferences => response => {\r\n\tif (!(response && response.valueState)) return '';\r\n\treturn preferences.reduce((_, p) => {\r\n\t\tconst res = response.valueState.find(r => r.valueType === p);\r\n\t\treturn res && res.value !== null ? res.value : _;\r\n\t}, '');\r\n};\r\n","import camelCase from 'lodash.camelcase';\r\n\r\nexport const buildStyleObject = obj =>\r\n\tobj\r\n\t\t? Object.entries(obj).reduce((_, [key, value]) => {\r\n\t\t\t\tif (key.startsWith(':')) _[key] = buildStyleObject(value);\r\n\t\t\t\telse _[camelCase(key)] = value;\r\n\t\t\t\treturn _;\r\n\t\t  }, {})\r\n\t\t: {};\r\n","export const getRosterInitLines = cells =>\r\n\tArray.isArray(cells)\r\n\t\t? cells\r\n\t\t\t\t.reduce(\r\n\t\t\t\t\t(_, line) => [\r\n\t\t\t\t\t\t..._,\r\n\t\t\t\t\t\tline.reduce((__, component) => {\r\n\t\t\t\t\t\t\tif (!component.response || __) return __;\r\n\t\t\t\t\t\t\treturn !isResponseEmpty(component.response);\r\n\t\t\t\t\t\t}, false),\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[]\r\n\t\t\t\t)\r\n\t\t\t\t.filter(b => b).length\r\n\t\t: 0;\r\n\r\nconst isResponseEmpty = response =>\r\n\tresponse.valueState.reduce((_, { value }) => {\r\n\t\tif (!_) return _;\r\n\t\treturn value === null;\r\n\t}, true);\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { buildStyleObject } from '../../utils/lib';\r\nimport './breadcrumb.scss';\r\n\r\nconst Breadcrumb = ({ elements, style }) => (\r\n\t<div\r\n\t\taria-label={`breadcrumb`}\r\n\t\tclassName=\"breadcrumb-lunatic\"\r\n\t\tstyle={buildStyleObject(style)}\r\n\t>\r\n\t\t{elements.map((e, i) => (\r\n\t\t\t<React.Fragment key={`breadcrumb-${e.toLowerCase()}`}>\r\n\t\t\t\t{e && (\r\n\t\t\t\t\t<span className={i !== 0 ? 'breadcrumb-element-lunatic' : undefined}>\r\n\t\t\t\t\t\t{e}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t))}\r\n\t</div>\r\n);\r\n\r\nBreadcrumb.propTypes = {\r\n\telements: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default Breadcrumb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { buildStyleObject } from '../../utils/lib';\r\nimport './button.scss';\r\n\r\nconst Button = ({ label, value, onClick, disabled, style }) => (\r\n\t<button\r\n\t\ttype=\"button\"\r\n\t\taria-label={label || 'button'}\r\n\t\tclassName=\"button-lunatic\"\r\n\t\tstyle={buildStyleObject(style)}\r\n\t\tdisabled={disabled}\r\n\t\tonClick={onClick}\r\n\t>\r\n\t\t{value}\r\n\t</button>\r\n);\r\n\r\nButton.propTypes = {\r\n\tvalue: PropTypes.string.isRequired,\r\n\tdisabled: PropTypes.bool,\r\n\tonClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","export const updateQuestionnaire = valueType => questionnaire => preferences => updatedValue => {\r\n\tif (\r\n\t\t!['PREVIOUS', 'COLLECTED', 'FORCED', 'EDITED', 'INPUTED'].includes(\r\n\t\t\tvalueType\r\n\t\t) ||\r\n\t\tpreferences.length === 0 ||\r\n\t\tObject.entries(updatedValue).length !== 1\r\n\t)\r\n\t\treturn questionnaire;\r\n\r\n\tconst [name, value] = Object.entries(updatedValue)[0];\r\n\tconst components = questionnaire.components.reduce(\r\n\t\t(_, c) => [..._, updateComponent(valueType)(c)(preferences)(name)(value)],\r\n\t\t[]\r\n\t);\r\n\treturn { ...questionnaire, components };\r\n};\r\n\r\nexport const updateComponent = valueType => component => preferences => name => value => {\r\n\tconst { response, componentType } = component;\r\n\tif (!isComponentsConcernedByResponse(name)(component)) {\r\n\t\treturn component;\r\n\t} else if (response) {\r\n\t\treturn buildUpdatedResponse(component)(preferences)(valueType)(value);\r\n\t} else if (componentType === 'CheckboxGroup')\r\n\t\treturn buildUpdatedCheckboxGroupResponse(component)(preferences)(valueType)(\r\n\t\t\tvalue\r\n\t\t)(name);\r\n\telse if (componentType === 'Table')\r\n\t\treturn buildUpdatedTableResponse(component)(preferences)(valueType)(value)(\r\n\t\t\tname\r\n\t\t);\r\n};\r\n\r\nexport const isComponentsConcernedByResponse = responseName => component =>\r\n\t(component.response && component.response.name === responseName) ||\r\n\t(component.responses &&\r\n\t\tcomponent.responses.filter(\r\n\t\t\to => o.response && o.response.name === responseName\r\n\t\t).length !== 0) ||\r\n\t(component.cells &&\r\n\t\tcomponent.cells\r\n\t\t\t.reduce((_, line) => {\r\n\t\t\t\tline.forEach(l => {\r\n\t\t\t\t\tif (l.response && l.response.name) _.push(l.response.name);\r\n\t\t\t\t});\r\n\t\t\t\treturn _;\r\n\t\t\t}, [])\r\n\t\t\t.filter(str => str === responseName).length === 1);\r\n\r\nexport const buildUpdatedResponse = component => preferences => valueType => value => {\r\n\tlet newValue = value;\r\n\tconst { valueState } = component.response;\r\n\tif (preferences.length > 1 && preferences.includes(valueType)) {\r\n\t\tconst lastValue = preferences\r\n\t\t\t.slice(0, preferences.length - 1)\r\n\t\t\t.reduce(\r\n\t\t\t\t(_, type) =>\r\n\t\t\t\t\tvalueState.find(v => v.valueType === type).value !== null\r\n\t\t\t\t\t\t? valueState.find(v => v.valueType === type).value\r\n\t\t\t\t\t\t: _,\r\n\t\t\t\t''\r\n\t\t\t);\r\n\t\tif (value === lastValue) newValue = null;\r\n\t}\r\n\tif (\r\n\t\tcomponent.componentType === 'CheckboxOne' &&\r\n\t\tvalueState.find(v => v.valueType === valueType).value === newValue\r\n\t)\r\n\t\tnewValue = null;\r\n\treturn {\r\n\t\t...component,\r\n\t\tresponse: {\r\n\t\t\t...component.response,\r\n\t\t\tvalueState: valueState.reduce((__, v) => {\r\n\t\t\t\tif (v.valueType === valueType)\r\n\t\t\t\t\treturn [...__, { ...v, value: newValue }];\r\n\t\t\t\treturn [...__, v];\r\n\t\t\t}, []),\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const buildUpdatedVectorResponse = responses => preferences => valueType => value => name =>\r\n\tresponses.reduce((_, cellComponent) => {\r\n\t\tif (isComponentsConcernedByResponse(name)(cellComponent))\r\n\t\t\t_.push(\r\n\t\t\t\tbuildUpdatedResponse(cellComponent)(preferences)(valueType)(value)\r\n\t\t\t);\r\n\t\telse _.push(cellComponent);\r\n\t\treturn _;\r\n\t}, []);\r\n\r\nexport const buildUpdatedCheckboxGroupResponse = component => preferences => valueType => value => name => {\r\n\tconst { responses, ...other } = component;\r\n\tconst newResponses = buildUpdatedVectorResponse(responses)(preferences)(\r\n\t\tvalueType\r\n\t)(value)(name);\r\n\treturn { ...other, responses: newResponses };\r\n};\r\n\r\nexport const buildUpdatedTableResponse = component => preferences => valueType => value => name => {\r\n\tconst { cells, ...other } = component;\r\n\tconst newCells = cells.reduce((_, line) => {\r\n\t\t_.push(\r\n\t\t\tbuildUpdatedVectorResponse(line)(preferences)(valueType)(value)(name)\r\n\t\t);\r\n\t\treturn _;\r\n\t}, []);\r\n\treturn { ...other, cells: newCells };\r\n};\r\n","export const mergeQuestionnaireAndData = questionnaire => data => {\r\n\tif (\r\n\t\t!questionnaire ||\r\n\t\t!questionnaire.components ||\r\n\t\tquestionnaire.components.length === 0\r\n\t)\r\n\t\treturn {};\r\n\tif (!data || Object.keys(data).length === 0) return questionnaire;\r\n\tconst { COLLECTED: collectedData } = data;\r\n\tconst { components, variables, ...props } = questionnaire;\r\n\tconst filledComponents = components.reduce((_, component) => {\r\n\t\tconst { response, componentType } = component;\r\n\t\tif (response)\r\n\t\t\treturn [..._, mergeSimpleComponentAndData(component)(collectedData)];\r\n\t\telse if (componentType === 'CheckboxGroup')\r\n\t\t\treturn [..._, mergeCheckboxGroupAndData(component)(collectedData)];\r\n\t\telse if (componentType === 'Table')\r\n\t\t\treturn [..._, mergeTableAndData(component)(collectedData)];\r\n\t\telse return [..._, component];\r\n\t}, []);\r\n\tconst filledVariables = {\r\n\t\tEXTERNAL: variables\r\n\t\t\t? variables\r\n\t\t\t\t\t.filter(({ variableType }) => variableType === 'EXTERNAL')\r\n\t\t\t\t\t.reduce((_, v) => ({ ..._, ...initExternalVariable(v)(data) }), {})\r\n\t\t\t: [],\r\n\t\tCALCULATED: variables\r\n\t\t\t? variables\r\n\t\t\t\t\t.filter(({ variableType }) => variableType === 'CALCULATED')\r\n\t\t\t\t\t.reduce((_, v) => ({ ..._, ...initCalculatedVariable(v)(data) }), {})\r\n\t\t\t: [],\r\n\t};\r\n\treturn { ...props, components: filledComponents, variables: filledVariables };\r\n};\r\n\r\nconst mergeSimpleComponentAndData = component => data => {\r\n\tif (!data || Object.keys(data).length === 0) return component;\r\n\tconst { response, ...other } = component;\r\n\tconst { name, valueState } = response;\r\n\tconst newValueState = valueState.map(({ valueType, value }) => {\r\n\t\tconst newValue =\r\n\t\t\tdata[name] !== undefined && data[name][valueType] !== undefined\r\n\t\t\t\t? data[name][valueType]\r\n\t\t\t\t: value;\r\n\t\treturn { valueType, value: newValue };\r\n\t});\r\n\treturn { ...other, response: { name, valueState: newValueState } };\r\n};\r\n\r\nconst mergeCheckboxGroupAndData = component => data => {\r\n\tif (!data || Object.keys(data).length === 0) return component;\r\n\tconst { responses, ...other } = component;\r\n\tconst newResponses = responses.map(c => mergeSimpleComponentAndData(c)(data));\r\n\treturn { ...other, responses: newResponses };\r\n};\r\n\r\nconst mergeTableAndData = component => data => {\r\n\tif (!data || Object.keys(data).length === 0) return component;\r\n\tconst { cells, ...other } = component;\r\n\tconst newCells = cells.reduce((_, line) => {\r\n\t\tconst newLine = line.map(component =>\r\n\t\t\tcomponent.response\r\n\t\t\t\t? mergeSimpleComponentAndData(component)(data)\r\n\t\t\t\t: component\r\n\t\t);\r\n\t\treturn [..._, newLine];\r\n\t}, []);\r\n\treturn { ...other, cells: newCells };\r\n};\r\n\r\nconst initExternalVariable = ({ name }) => data => ({\r\n\t[name]: (data && data.EXTERNAL && data.EXTERNAL[name]) || null,\r\n});\r\n\r\nconst initCalculatedVariable = ({ name, expression }) => data => ({\r\n\t[name]: { expression, value: null },\r\n});\r\n","export const getState = questionnaire => {\r\n\tconst { components, variables } = questionnaire;\r\n\tconst COLLECTED = getVariablesFromComponents(components);\r\n\tconst CALCULATED = getCalculatedFromVariables(variables);\r\n\tconst EXTERNAL = getExternalFromVariables(variables);\r\n\treturn { COLLECTED, CALCULATED, EXTERNAL };\r\n};\r\n\r\nexport const getCollectedState = questionnaire =>\r\n\tgetState(questionnaire).COLLECTED;\r\n\r\nexport const getCollectedStateByValueType = questionnaire => (\r\n\tvalueType,\r\n\tdisplayNull\r\n) =>\r\n\t['PREVIOUS', 'COLLECTED', 'FORCED', 'EDITED', 'INPUTED'].includes(valueType)\r\n\t\t? Object.entries(getCollectedState(questionnaire)).reduce((_, v) => {\r\n\t\t\t\tif (displayNull || v[1][valueType] !== null)\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t..._,\r\n\t\t\t\t\t\t[v[0]]: v[1][valueType],\r\n\t\t\t\t\t};\r\n\t\t\t\treturn _;\r\n\t\t  }, {})\r\n\t\t: {};\r\n\r\nconst getVariablesFromComponents = components =>\r\n\tArray.isArray(components)\r\n\t\t? components.reduce((_, { componentType, response, responses, cells }) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!componentType ||\r\n\t\t\t\t\t['Sequence', 'Subsequence'].includes(componentType)\r\n\t\t\t\t)\r\n\t\t\t\t\treturn _;\r\n\t\t\t\telse if (componentType === 'CheckboxGroup') {\r\n\t\t\t\t\treturn { ..._, ...getVariableFromResponses(responses) };\r\n\t\t\t\t} else if (componentType === 'Table') {\r\n\t\t\t\t\treturn { ..._, ...getVariableFromCells(cells) };\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn { ..._, ...getVariableFromResponse(response) };\r\n\t\t\t\t}\r\n\t\t  }, {})\r\n\t\t: {};\r\n\r\nconst getVariableFromResponse = response => {\r\n\tconst { name, valueState } = response;\r\n\tconst values = valueState.reduce(\r\n\t\t(__, { valueType, value }) => ({ ...__, [valueType]: value }),\r\n\t\t{}\r\n\t);\r\n\treturn { [name]: values };\r\n};\r\n\r\nconst getVariableFromResponses = responses =>\r\n\tresponses.reduce(\r\n\t\t(_, { response }) => ({ ..._, ...getVariableFromResponse(response) }),\r\n\t\t{}\r\n\t);\r\n\r\nconst getVariableFromCells = cells =>\r\n\tcells.reduce(\r\n\t\t(_, components) => ({ ..._, ...getVariablesFromComponents(components) }),\r\n\t\t{}\r\n\t);\r\n\r\nconst getCalculatedFromVariables = variables =>\r\n\tvariables && variables.CALCULATED\r\n\t\t? Object.entries(variables.CALCULATED).reduce(\r\n\t\t\t\t(_, [name, { value }]) => ({ ..._, [name]: value }),\r\n\t\t\t\t{}\r\n\t\t  )\r\n\t\t: {};\r\n\r\nconst getExternalFromVariables = variables =>\r\n\tvariables && variables.EXTERNAL\r\n\t\t? Object.entries(variables.EXTERNAL).reduce(\r\n\t\t\t\t(_, [name, value]) => ({ ..._, [name]: value }),\r\n\t\t\t\t{}\r\n\t\t  )\r\n\t\t: {};\r\n\r\nexport const getBindings = questionnaire => {\r\n\tconst { variables } = questionnaire;\r\n\treturn {\r\n\t\t...getCollectedStateByValueType(questionnaire)('COLLECTED', true),\r\n\t\t...getCalculatedFromVariables(variables),\r\n\t\t...getExternalFromVariables(variables),\r\n\t};\r\n};\r\n","import { interpret as interpretVtl } from '@inseefr/vtl-tools';\r\n\r\nexport const interpret = features => bindings => expression => {\r\n\tif (!expression) return '';\r\n\tif (!Array.isArray(features)) return expression;\r\n\tif (features.includes('VTL')) {\r\n\t\ttry {\r\n\t\t\treturn interpretVtl(expression, bindings);\r\n\t\t} catch (e) {\r\n\t\t\treturn `VTL interpret error for expression: ${expression}`;\r\n\t\t}\r\n\t}\r\n\treturn expression;\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport * as U from '../../utils/lib';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './declarations.scss';\r\n\r\nconst Declarations = ({ id, type, declarations, features, bindings }) => {\r\n\tconst filtered = declarations.filter(({ position }) => position === type);\r\n\treturn (\r\n\t\t<div id={`declarations-${id}-${type}`} className=\"declarations-lunatic\">\r\n\t\t\t{filtered.map(({ id: idD, label, declarationType }) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={`${idD}`}\r\n\t\t\t\t\tclassName={`declaration-lunatic declaration-${declarationType.toLowerCase()}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{interpret(features)(bindings)(label)}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nDeclarations.defaultProps = {\r\n\ttype: 'AFTER_QUESTION_TEXT',\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n};\r\n\r\nDeclarations.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\ttype: PropTypes.string,\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n};\r\n\r\nexport default Declarations;\r\n","var img = new Image(); img.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAAGEMEXHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABjUExURf///8Xn9XrH6Va44zKp3Eiy4GW+5b7j9Kja8Bme2CSj2p7W7vH5/UGv34XM69vw+czq9iCh2ZbT7bfg82W94+33/Njt92zB5k+14XPE6On2+4vN6sLl9Mno9i+n3Cum2wAAAIfAWccAAAAhdFJOU///////////////////////////////////////////AJ/B0CEAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAEVSURBVChTVVIBcsMgDFODm2JKIFnTbvv/Ryfb0F11Z4ptWYBSYL8wFBk34A7kLwDCUIbBfkcIHppsM2tIVy61exRoQ0LFaa2NhLSiP7l/MA7no6rsdd+UI5SINQSvZKVsBXSB7N4plnFRyihxxrFdtxeep5qwYRFZx1ZK6735IMrmJSQOZR9sXKWZSKeaVdQVfftOirdG8kHjhXlFxZ0ZWezpwrclo4Q69ZUWZj28BPyobmbCQPYxR6HdE53leLyBpGIGEELHP7GGtB/DIyds+mathZ/BEBefyNSRMJxDwRggcXbMlSlGsPM9uWHpgKnRgPB/zBCd/yStLB3z1hK6wO+8zn7o+7sx47v/s9oOdgdoLAD8AWlNC8M57XWRAAAAAElFTkSuQmCC'; export default img;","var img = new Image(); img.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAZCAMAAAFiGY6DAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABUUExURf///6zc8Uiy4PH5/d/x+b7j9Bme2DKp3CSj2la442W+5YnN61O34nrH6Z7W7tDr9yCh2bfg8+33/HPE6EGv35bT7U+14czq9nDD56XZ7+n2+wAAAJWny4EAAAAcdFJOU////////////////////////////////////wAXsuLXAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABKElEQVQoU2VSC3bDIAwzJRM0hCb0ldfd/6STDFm7TgnEX2GbGHExQ4PZoc0scT0MgC/6xkqZ+tC0x6y4E4zlU5VAs8I2Wrv0/PL/xzih4gKsCJVB1RZKsvXYrJntG7gXrM/ddgZ3JPDtBRHFSQYG1Ylgy9cUhStwdaGKO6tAdX0wCQi5tUyzK6oYYNHB+aDDBXhHcjtu09uHKgfTYGTUXMRDtCOU7HUU8ShH1CdWdj1FoS/3k+4vyB3Se6KV8tv6Bamm2Z3d+GWvuNmel4WC7A9+OUcV9AKr5PHEJHIxavjui4mOisf0/B7uiqwTrp9/gisa0wuycLTs3zlI2yl7QpTvDR8FlXy3jWq3hqBYjYpXPy/A7Lmu33GIMR1r3z6OPnFngYFXbfYDTw4LkdQNpj4AAAAASUVORK5CYII='; export default img;","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport * as U from '../../utils/lib';\r\nimport * as img from './img';\r\nimport './tooltip.scss';\r\n\r\nconst TooltipResponse = ({ id, response }) => {\r\n\tconst [tooltipElements, setTooltipElements] = useState(() =>\r\n\t\tU.buildTooltip(response)\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTooltipElements(U.buildTooltip(response));\r\n\t}, [response]);\r\n\r\n\tconst { content, imgName } = tooltipElements;\r\n\r\n\tif (!content) return null;\r\n\treturn (\r\n\t\t<div className=\"tooltip-lunatic\">\r\n\t\t\t<img id={id} alt=\"img-tooltip\" src={img[imgName].src || img[imgName]} />\r\n\t\t\t<span className=\"tooltip-text\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{content.map(({ key, value }) => (\r\n\t\t\t\t\t\t<li key={`tooltip-${id}-content-${key}`}>{`${key} : ${value}`}</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTooltipResponse.defaultProps = {\r\n\tresponse: {},\r\n};\r\n\r\nTooltipResponse.propTypes = {\r\n\tid: PropTypes.string,\r\n\tresponse: U.responsePropTypes,\r\n};\r\n\r\nexport default TooltipResponse;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Declarations from '../declarations';\r\nimport { TooltipResponse } from '../tooltip';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './checkbox.scss';\r\n\r\nconst CheckboxGroup = ({\r\n\tid,\r\n\tlabel,\r\n\tpreferences,\r\n\tresponses,\r\n\thandleChange,\r\n\tdisabled,\r\n\tfocused,\r\n\tkeyboardSelection,\r\n\tpositioning,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\ttooltip,\r\n\tstyle,\r\n}) => {\r\n\tconst { fieldsetStyle, checkboxStyle } = style;\r\n\tconst inputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (focused) inputRef.current.focus();\r\n\t}, [focused]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<fieldset\r\n\t\t\t\tkey={`checkbox-${id}`}\r\n\t\t\t\tclassName=\"checkbox-group\"\r\n\t\t\t\tstyle={U.buildStyleObject(fieldsetStyle)}\r\n\t\t\t>\r\n\t\t\t\t<legend>{interpret(features)(bindings)(label)}</legend>\r\n\t\t\t\t<Declarations\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\t\tdeclarations={declarations}\r\n\t\t\t\t\tfeatures={features}\r\n\t\t\t\t\tbindings={bindings}\r\n\t\t\t\t/>\r\n\t\t\t\t{responses.map(({ id: modId, label: modLabel, response }, i) => {\r\n\t\t\t\t\tconst checked = U.getResponseByPreference(preferences)(response);\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`${U.getItemsPositioningClass(positioning)}`}\r\n\t\t\t\t\t\t\tkey={`checkbox-${id}-${modId}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"field-container\">\r\n\t\t\t\t\t\t\t\t<div className={`${tooltip ? 'field-with-tooltip' : 'field'}`}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"checkbox-modality\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tid={`checkbox-${id}-${modId}`}\r\n\t\t\t\t\t\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`checkbox-${id}-${modId}`}\r\n\t\t\t\t\t\t\t\t\t\t\taria-labelledby={`input-label-${id}-${modId}`}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"checkbox-lunatic\"\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[U.getResponseName(response)]: e.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\thtmlFor={`checkbox-${id}-${modId}`}\r\n\t\t\t\t\t\t\t\t\t\t\tid={`input-label-${id}-${modId}`}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={checked ? U.buildStyleObject(checkboxStyle) : {}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{keyboardSelection\r\n\t\t\t\t\t\t\t\t\t\t\t\t? `${U.getAlphabet()[i].toUpperCase()} - ${modLabel}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t: modLabel}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{tooltip && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"tooltip\">\r\n\t\t\t\t\t\t\t\t\t\t<TooltipResponse id={id} response={response} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</fieldset>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nCheckboxGroup.defaultProps = {\r\n\tlabel: '',\r\n\tpreferences: ['COLLECTED'],\r\n\tresponses: [],\r\n\tdisabled: false,\r\n\tfocused: false,\r\n\tkeyboardSelection: false,\r\n\tpositioning: 'DEFAULT',\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\ttooltip: false,\r\n\tstyle: { fieldsetStyle: {}, checkboxStyle: {} },\r\n};\r\n\r\nCheckboxGroup.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tresponse: U.responsePropTypes,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tdisabled: PropTypes.bool,\r\n\tfocused: PropTypes.bool,\r\n\tkeyboardSelection: PropTypes.bool,\r\n\tpositioning: PropTypes.oneOf(['DEFAULT', 'HORIZONTAL', 'VERTICAL']),\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default CheckboxGroup;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Declarations from '../declarations';\r\nimport { TooltipResponse } from '../tooltip';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './checkbox.scss';\r\n\r\nconst CheckboxBoolean = ({\r\n\tid,\r\n\tlabel,\r\n\tpreferences,\r\n\tresponse,\r\n\thandleChange,\r\n\tdisabled,\r\n\tpositioning,\r\n\tfocused,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\ttooltip,\r\n\tstyle,\r\n}) => {\r\n\tconst inputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (focused) inputRef.current.focus();\r\n\t}, [focused]);\r\n\r\n\tconst isVertical = positioning === 'VERTICAL';\r\n\tconst input = (\r\n\t\t<input\r\n\t\t\ttype=\"checkbox\"\r\n\t\t\tid={`checkbox-boolean-${id}`}\r\n\t\t\tref={inputRef}\r\n\t\t\ttitle={label ? label : 'empty-label'}\r\n\t\t\tclassName={`checkbox-lunatic${isVertical ? '-no-margin' : ''}`}\r\n\t\t\tstyle={U.buildStyleObject(style)}\r\n\t\t\tchecked={U.getResponseByPreference(preferences)(response)}\r\n\t\t\tdisabled={disabled}\r\n\t\t\tonChange={e => {\r\n\t\t\t\thandleChange({\r\n\t\t\t\t\t[U.getResponseName(response)]: e.target.checked,\r\n\t\t\t\t});\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n\treturn (\r\n\t\t<div key={`checkbox-boolean-${id}`} className={`checkbox-modality`}>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t{label && (\r\n\t\t\t\t<label htmlFor={`checkbox-boolean-${id}`}>\r\n\t\t\t\t\t{interpret(features)(bindings)(label)}\r\n\t\t\t\t</label>\r\n\t\t\t)}\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<div className=\"field-container\">\r\n\t\t\t\t<div className={`${tooltip ? 'field-with-tooltip' : 'field'}`}>\r\n\t\t\t\t\t{isVertical ? <div>{input}</div> : input}\r\n\t\t\t\t</div>\r\n\t\t\t\t{tooltip && (\r\n\t\t\t\t\t<div className=\"tooltip\">\r\n\t\t\t\t\t\t<TooltipResponse id={id} response={response} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nCheckboxBoolean.defaultProps = {\r\n\tlabel: '',\r\n\tpreferences: ['COLLECTED'],\r\n\tresponse: {},\r\n\tdisabled: false,\r\n\tpositioning: 'DEFAULT',\r\n\tfocused: false,\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\ttooltip: false,\r\n\tstyle: {},\r\n};\r\n\r\nCheckboxBoolean.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tresponse: U.responsePropTypes,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tdisabled: PropTypes.bool,\r\n\tpositioning: PropTypes.oneOf(['DEFAULT', 'HORIZONTAL', 'VERTICAL']),\r\n\tfocused: PropTypes.bool,\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default CheckboxBoolean;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Declarations from '../declarations';\r\nimport { TooltipResponse } from '../tooltip';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './checkbox.scss';\r\n\r\nconst CheckboxOne = ({\r\n\tid,\r\n\tlabel,\r\n\tpreferences,\r\n\tresponse,\r\n\toptions,\r\n\thandleChange,\r\n\tpositioning,\r\n\tdisabled,\r\n\tkeyboardSelection,\r\n\tfocused,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\ttooltip,\r\n\tstyle,\r\n}) => {\r\n\tconst inputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (focused) inputRef.current.focus();\r\n\t}, [focused]);\r\n\r\n\tconst { fieldsetStyle, checkboxStyle } = style;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<div className=\"field-container\">\r\n\t\t\t\t<div className={`${tooltip ? 'field-with-tooltip' : 'field'}`}>\r\n\t\t\t\t\t<fieldset\r\n\t\t\t\t\t\tkey={`checkbox-one-${id}`}\r\n\t\t\t\t\t\tclassName=\"checkbox-group\"\r\n\t\t\t\t\t\tstyle={U.buildStyleObject(fieldsetStyle)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<legend>{interpret(features)(bindings)(label)}</legend>\r\n\t\t\t\t\t\t<Declarations\r\n\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\t\t\t\tdeclarations={declarations}\r\n\t\t\t\t\t\t\tfeatures={features}\r\n\t\t\t\t\t\t\tbindings={bindings}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{options.map(({ label: optionLabel, value: optionValue }, i) => {\r\n\t\t\t\t\t\t\tconst checked =\r\n\t\t\t\t\t\t\t\tU.getResponseByPreference(preferences)(response) ===\r\n\t\t\t\t\t\t\t\toptionValue;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tkey={`checkbox-one-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\tclassName={`checkbox-modality ${U.getItemsPositioningClass(\r\n\t\t\t\t\t\t\t\t\t\tpositioning\r\n\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\tid={`checkbox-one-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\t\t\t\t\tkey={`checkbox-one-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\t\taria-labelledby={`input-label-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"checkbox-lunatic\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange({\r\n\t\t\t\t\t\t\t\t\t\t\t\t[U.getResponseName(response)]: optionValue,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor={`checkbox-one-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\t\tid={`input-label-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\t\tstyle={checked ? U.buildStyleObject(checkboxStyle) : {}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{keyboardSelection\r\n\t\t\t\t\t\t\t\t\t\t\t? `${U.getAlphabet()[i].toUpperCase()} - ${optionLabel}`\r\n\t\t\t\t\t\t\t\t\t\t\t: optionLabel}\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tooltip && (\r\n\t\t\t\t\t<div className=\"tooltip\">\r\n\t\t\t\t\t\t<TooltipResponse\r\n\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\tresponse={U.buildResponse(options)(response)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nCheckboxOne.defaultProps = {\r\n\tlabel: '',\r\n\tpreferences: ['COLLECTED'],\r\n\tresponse: {},\r\n\tdisabled: false,\r\n\tfocused: false,\r\n\tkeyboardSelection: false,\r\n\tpositioning: 'DEFAULT',\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\ttooltip: false,\r\n\tstyle: { fieldsetStyle: {}, checkboxStyle: {} },\r\n};\r\n\r\nCheckboxOne.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tresponse: U.responsePropTypes,\r\n\toptions: U.optionsPropTypes,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tdisabled: PropTypes.bool,\r\n\tfocused: PropTypes.bool,\r\n\tkeyboardSelection: PropTypes.bool,\r\n\tpositioning: PropTypes.oneOf(['DEFAULT', 'HORIZONTAL', 'VERTICAL']),\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default CheckboxOne;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TooltipResponse } from '../tooltip';\r\nimport Declarations from '../declarations';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './datepicker.scss';\r\n\r\nconst Datepicker = ({\r\n\tid,\r\n\tlabel,\r\n\tpreferences,\r\n\tresponse,\r\n\tplaceholder,\r\n\thandleChange,\r\n\treadOnly,\r\n\tlabelPosition,\r\n\trequired,\r\n\tfocused,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\ttooltip,\r\n\tstyle,\r\n}) => {\r\n\tconst inputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (focused) inputRef.current.focus();\r\n\t}, [focused]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<div className={U.getLabelPositionClass(labelPosition)}>\r\n\t\t\t\t{label && (\r\n\t\t\t\t\t<label\r\n\t\t\t\t\t\thtmlFor={`datepicker-${id}`}\r\n\t\t\t\t\t\tid={`input-label-${id}`}\r\n\t\t\t\t\t\tclassName={`${required ? 'required' : ''}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{interpret(features)(bindings)(label)}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\t\t\t\t<Declarations\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\t\tdeclarations={declarations}\r\n\t\t\t\t\tfeatures={features}\r\n\t\t\t\t\tbindings={bindings}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"field-container\">\r\n\t\t\t\t\t<div className={`${tooltip ? 'field-with-tooltip' : 'field'}`}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tid={`datepicker-${id}`}\r\n\t\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\t\tvalue={U.getResponseByPreference(preferences)(response)}\r\n\t\t\t\t\t\t\tplaceholder={placeholder || ''}\r\n\t\t\t\t\t\t\tclassName=\"datepicker-lunatic\"\r\n\t\t\t\t\t\t\tstyle={U.buildStyleObject(style)}\r\n\t\t\t\t\t\t\treadOnly={readOnly}\r\n\t\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\t\taria-required={required}\r\n\t\t\t\t\t\t\tonChange={e =>\r\n\t\t\t\t\t\t\t\thandleChange({\r\n\t\t\t\t\t\t\t\t\t[U.getResponseName(response)]: e.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{tooltip && (\r\n\t\t\t\t\t\t<div className=\"tooltip\">\r\n\t\t\t\t\t\t\t<TooltipResponse id={id} response={response} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nDatepicker.defaultProps = {\r\n\tpreferences: ['COLLECTED'],\r\n\tplaceholder: '',\r\n\treadOnly: false,\r\n\tlabelPosition: 'DEFAULT',\r\n\trequired: false,\r\n\tfocused: false,\r\n\tresponse: {},\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\ttooltip: false,\r\n\tstyle: {},\r\n};\r\n\r\nDatepicker.propTypes = {\r\n\tid: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tresponse: U.responsePropTypes,\r\n\tplaceholder: PropTypes.string,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\treadOnly: PropTypes.bool,\r\n\tlabelPosition: PropTypes.oneOf(['DEFAULT', 'TOP', 'BOTTOM', 'LEFT', 'RIGHT']),\r\n\trequired: PropTypes.bool,\r\n\tfocused: PropTypes.bool,\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default Datepicker;\r\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Option extends React.Component {\r\n\thtml = React.createRef();\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.validate) {\r\n\t\t\tthis.props.validate(this.props.index, this.html);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tvalue,\r\n\t\t\tchildren,\r\n\t\t\tonClick,\r\n\t\t\tselected,\r\n\t\t\tid,\r\n\t\t\tindex,\r\n\t\t\thidden,\r\n\t\t\tcomponent: Component,\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<li\r\n\t\t\t\tref={this.html}\r\n\t\t\t\trole=\"option\"\r\n\t\t\t\tid={id}\r\n\t\t\t\taria-selected={selected ? 'true' : undefined}\r\n\t\t\t\tclassName={classnames('option', { selected, hidden })}\r\n\t\t\t\taria-hidden={hidden ? true : undefined}\r\n\t\t\t\tonClick={e => {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\treturn onClick ? onClick(value, index) : null;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{Component ? (\r\n\t\t\t\t\t<Component index={index} value={value} label={children} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\tchildren\r\n\t\t\t\t)}\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nOption.propTypes = {\r\n\tid: PropTypes.string,\r\n\tcomponent: PropTypes.func,\r\n\tindex: PropTypes.number,\r\n\tselected: PropTypes.bool,\r\n\thidden: PropTypes.bool,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.object,\r\n\t]),\r\n};\r\n\r\nexport default Option;\r\n\r\nexport const getValuesFromProps = ({ children, options }) => {\r\n\tconst witch = options || children;\r\n\tif (witch) {\r\n\t\tconst options = Array.isArray(witch) ? witch : [witch];\r\n\t\treturn options\r\n\t\t\t.filter(option => option.type === Option)\r\n\t\t\t.map(({ props: { value, children } }, index) => ({\r\n\t\t\t\tindex,\r\n\t\t\t\tvalue,\r\n\t\t\t\tlabel: children,\r\n\t\t\t}))\r\n\t\t\t.reduce((a, { index, ...rest }) => ({ ...a, [index]: { ...rest } }), {});\r\n\t}\r\n\treturn {};\r\n};\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport Option from './option.component';\r\n\r\nclass SelectPanel extends React.Component {\r\n\tdomUl = React.createRef();\r\n\tdomOptions = {};\r\n\tindex = -1;\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.index = props.index;\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tif (this.index !== this.props.index) {\r\n\t\t\tthis.validateScroll(this.props.index);\r\n\t\t\tthis.index = this.props.index;\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateScroll = index => {\r\n\t\tconst domLi = this.domOptions[index];\r\n\t\tif (domLi && domLi.current && this.domUl.current) {\r\n\t\t\tconst top = domLi.current.offsetTop;\r\n\t\t\tconst bottom = top + domLi.current.offsetHeight;\r\n\t\t\tconst topLim = this.domUl.current.scrollTop;\r\n\t\t\tconst bottomLim = topLim + this.domUl.current.offsetHeight;\r\n\t\t\tif (bottom > bottomLim) {\r\n\t\t\t\tthis.domUl.current.scrollTop = bottom - this.domUl.current.offsetHeight;\r\n\t\t\t} else if (top < topLim) {\r\n\t\t\t\tthis.domUl.current.scrollTop = top;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thandleClick = (value, index, label) => {\r\n\t\tif (this.props.onClickOption) {\r\n\t\t\tthis.props.onClickOption(value, index, label);\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\thandlePanelEnter = () => {\r\n\t\tthis.props.handleHover(true);\r\n\t};\r\n\r\n\thandlePanelLeave = () => {\r\n\t\tthis.props.handleHover(false);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { expanded, index, getId, children, prefix } = this.props;\r\n\t\treturn (\r\n\t\t\t<ul\r\n\t\t\t\tclassName={classnames('options', { hidden: !expanded })}\r\n\t\t\t\tonMouseEnter={this.handlePanelEnter}\r\n\t\t\t\tonMouseLeave={this.handlePanelLeave}\r\n\t\t\t\trole=\"listbox\"\r\n\t\t\t\ttabIndex=\"0\"\r\n\t\t\t\taria-activedescendant={getId(this.props.index)}\r\n\t\t\t\tref={this.domUl}\r\n\t\t\t>\r\n\t\t\t\t{React.Children.toArray(children)\r\n\t\t\t\t\t.filter(({ hidden }) => !hidden)\r\n\t\t\t\t\t.map(({ props: { children, value: val, ...rest } }, i) => (\r\n\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\thidden={\r\n\t\t\t\t\t\t\t\tprefix ? (children.includes(prefix) ? false : true) : false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={i === index}\r\n\t\t\t\t\t\t\tonClick={() => this.handleClick(val, i, children)}\r\n\t\t\t\t\t\t\tid={getId(i)}\r\n\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\tvalidate={(i, html) => {\r\n\t\t\t\t\t\t\t\tthis.domOptions[i] = html;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{children}\r\n\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// const SelectPanel = ({\r\n// \texpanded,\r\n// \tindex,\r\n// \tgetId,\r\n// \tchildren,\r\n// \tprefix,\r\n// \tvalue,\r\n// \tonClickOption,\r\n// \thandleHover,\r\n// }) => {\r\n// \tconst domUl = React.createRef();\r\n// \tconst domOptions = {};\r\n// \tconst handleClick = createHandleClick({ onClickOption });\r\n// \tconst [idx, setIdx] = useState(index);\r\n// \tlet validateScroll = null;\r\n// \tconst [init, setInit] = useState(false);\r\n// \tuseEffect(() => {\r\n// \t\tif (domUl.current) {\r\n// \t\t\tvalidateScroll = createValidateScroll(domOptions, domUl.current);\r\n// \t\t\tsetInit(true);\r\n// \t\t}\r\n// \t\tif (idx !== index && init) {\r\n// \t\t\tvalidateScroll(index);\r\n// \t\t\tsetIdx(index);\r\n// \t\t}\r\n// \t});\r\n\r\n// \treturn (\r\n// \t\t<ul\r\n// \t\t\tclassName={classnames('options', { hidden: !expanded })}\r\n// \t\t\tonMouseEnter={createHandlePanelEnter(handleHover)}\r\n// \t\t\tonMouseLeave={createHandlePanelLeave(handleHover)}\r\n// \t\t\trole=\"listbox\"\r\n// \t\t\ttabIndex=\"0\"\r\n// \t\t\taria-activedescendant={getId(index)}\r\n// \t\t\tref={domUl}\r\n// \t\t>\r\n// \t\t\t{React.Children.toArray(children)\r\n// \t\t\t\t.filter(({ hidden }) => !hidden)\r\n// \t\t\t\t.map(({ props: { children, value: val, ...rest } }, i) => (\r\n// \t\t\t\t\t<Option\r\n// \t\t\t\t\t\t{...rest}\r\n// \t\t\t\t\t\thidden={\r\n// \t\t\t\t\t\t\tprefix ? (children.startsWith(prefix) ? false : true) : false\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t\tkey={i}\r\n// \t\t\t\t\t\tvalue={val}\r\n// \t\t\t\t\t\tselected={i === index}\r\n// \t\t\t\t\t\tonClick={e => {\r\n// \t\t\t\t\t\t\thandleClick(val, i, children);\r\n// \t\t\t\t\t\t}}\r\n// \t\t\t\t\t\tid={getId(i)}\r\n// \t\t\t\t\t\tindex={i}\r\n// \t\t\t\t\t\tvalidate={(i, html) => {\r\n// \t\t\t\t\t\t\tdomOptions[i] = html;\r\n// \t\t\t\t\t\t}}\r\n// \t\t\t\t\t>\r\n// \t\t\t\t\t\t{children}\r\n// \t\t\t\t\t</Option>\r\n// \t\t\t\t))}\r\n// \t\t</ul>\r\n// \t);\r\n// };\r\n\r\n// const createValidateScroll = (domOptions, domUl) => index => {\r\n// \tconst domLi = domOptions[index];\r\n// \tif (domLi && domLi.current && domUl.current) {\r\n// \t\tconst top = domLi.current.offsetTop;\r\n// \t\tconst bottom = top + domLi.current.offsetHeight;\r\n// \t\tconst topLim = domUl.current.scrollTop;\r\n// \t\tconst bottomLim = topLim + domUl.current.offsetHeight;\r\n// \t\tif (bottom > bottomLim) {\r\n// \t\t\tdomUl.current.scrollTop = bottom - domUl.current.offsetHeight;\r\n// \t\t} else if (top < topLim) {\r\n// \t\t\tdomUl.current.scrollTop = top;\r\n// \t\t}\r\n// \t}\r\n// };\r\n\r\n// const createHandleClick = props => (value, index, label) => {\r\n// \tif (props.onClickOption) {\r\n// \t\tprops.onClickOption(value, index, label);\r\n// \t}\r\n// \treturn false;\r\n// };\r\n\r\n// const createHandlePanelEnter = handleHover => () => {\r\n// \thandleHover(true);\r\n// };\r\n\r\n// const createHandlePanelLeave = handleHover => () => {\r\n// \thandleHover(false);\r\n// };\r\n\r\n// SelectPanel.propTypes = {\r\n// \tprefix: PropTypes.string,\r\n// \tindex: PropTypes.number,\r\n// \tgetId: PropTypes.func.isRequired,\r\n// \texpanded: PropTypes.bool.isRequired,\r\n// \thidden: PropTypes.bool,\r\n// \thandleHover: PropTypes.func.isRequired,\r\n// \tonClickOption: PropTypes.func.isRequired,\r\n// \tchildren: (content, propName, componentName) =>\r\n// \t\tReact.Children.toArray(content[propName]).reduce(\r\n// \t\t\t(a, p) =>\r\n// \t\t\t\tp.type !== Option\r\n// \t\t\t\t\t? new Error(`${componentName} children should be of type Option.`)\r\n// \t\t\t\t\t: a,\r\n// \t\t\tnull\r\n// \t\t),\r\n// };\r\n\r\nexport default SelectPanel;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classnames from \"classnames\";\r\nimport keycode from \"keycode\";\r\n\r\nclass SelectContainer extends React.Component {\r\n  handleKeyPressed = e => {\r\n    switch (keycode(e)) {\r\n      case \"up\":\r\n        e.preventDefault();\r\n        return this.props.up();\r\n      case \"down\":\r\n        e.preventDefault();\r\n        return this.props.down();\r\n      case \"home\":\r\n        e.preventDefault();\r\n        return this.props.home();\r\n      case \"end\":\r\n        e.preventDefault();\r\n        return this.props.end();\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  handleClickOptions = (value, index) => {\r\n    if (this.state.value !== value && !this.props.readOnly) {\r\n      this.setState({ expanded: undefined, value, index });\r\n      return this.props.onChange ? this.props.onChange(value) : false;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { className, children, id } = this.props;\r\n    return (\r\n      <div\r\n        id={id}\r\n        className={classnames({ [className]: className })}\r\n        onBlur={this.props.onBlur}\r\n        onKeyDown={this.handleKeyPressed}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSelectContainer.propTypes = {\r\n  className: PropTypes.string,\r\n  id: PropTypes.string.isRequired,\r\n  onBlur: PropTypes.func.isRequired,\r\n  up: PropTypes.func.isRequired,\r\n  down: PropTypes.func.isRequired,\r\n  home: PropTypes.func.isRequired,\r\n  end: PropTypes.func.isRequired\r\n};\r\n\r\nexport default SelectContainer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SelectPanel from './select-panel.component';\r\nimport SelectContainer from './select-container.component';\r\nimport { getValuesFromProps } from './option.component';\r\n\r\nlet __SELECT_ID__ = 1;\r\n\r\nclass SelectBase extends React.Component {\r\n\tstate = { index: -1, initialValue: null };\r\n\toverPanel = false;\r\n\tvalues = [];\r\n\tnbOptions = -1;\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.idSequence = __SELECT_ID__++;\r\n\t\tthis.state.initialValue = this.props.initial;\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\tif (props.initial !== state.initialValue) {\r\n\t\t\tconst values = getValuesFromProps(props);\r\n\t\t\tconst { index, label, value } = Object.entries(values).reduce(\r\n\t\t\t\t(a, [index, { value, label }]) =>\r\n\t\t\t\t\tvalue === props.initial ? { index, value, label } : a,\r\n\t\t\t\t-1\r\n\t\t\t);\r\n\r\n\t\t\tprops.setValue(value, label);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialValue: props.value,\r\n\t\t\t\tindex: parseInt(index, 10),\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn state;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.values = getValuesFromProps(this.props);\r\n\t\tthis.nbOptions = Object.keys(this.values).length;\r\n\t\tif (this.props.value) {\r\n\t\t\tconst current = Object.entries(this.values).reduce(\r\n\t\t\t\t(a, [i, { label, value }]) =>\r\n\t\t\t\t\tvalue === this.props.value\r\n\t\t\t\t\t\t? { index: Number.parseInt(i, 10), label, value }\r\n\t\t\t\t\t\t: a,\r\n\t\t\t\tnull\r\n\t\t\t);\r\n\t\t\tif (current) {\r\n\t\t\t\tconst { index, label, value } = current;\r\n\t\t\t\tthis.setState({ index });\r\n\t\t\t\tthis.props.setValue(value, label);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tup = () => this.validateIndex(Math.max(0, this.state.index - 1));\r\n\r\n\tdown = () =>\r\n\t\tthis.validateIndex(Math.min(this.nbOptions - 1, this.state.index + 1));\r\n\r\n\thome = () => this.validateIndex(0);\r\n\r\n\tend = () => this.validateIndex(this.nbOptions - 1);\r\n\r\n\tvalidateIndex = index => {\r\n\t\tconst finalValue = this.values[index];\r\n\t\tif (this.state.value !== finalValue.value) {\r\n\t\t\tthis.setState({ index });\r\n\t\t\tthis.props.setValue(finalValue.value, finalValue.label);\r\n\t\t}\r\n\t\treturn index;\r\n\t};\r\n\r\n\thandleClick = () => {\r\n\t\tthis.props.setExpanded(!this.props.expanded);\r\n\t};\r\n\r\n\thandleClickOptions = (value, index, label) => {\r\n\t\tif (this.state.value !== value && !this.props.readOnly) {\r\n\t\t\tthis.setState({ index });\r\n\t\t\tthis.props.setExpanded(false);\r\n\t\t\tthis.props.setValue(value, label);\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\thandleOnBlur = e => {\r\n\t\tif (!this.overPanel) {\r\n\t\t\tthis.props.setExpanded(false);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { index } = this.state;\r\n\t\tconst {\r\n\t\t\tchildren,\r\n\t\t\toptions,\r\n\t\t\tid,\r\n\t\t\texpanded,\r\n\t\t\tprefix,\r\n\t\t\tvalue,\r\n\t\t\t...rest\r\n\t\t} = this.props;\r\n\t\treturn (\r\n\t\t\t<SelectContainer\r\n\t\t\t\tid={getSelectId(id)(this.idSequence)}\r\n\t\t\t\tonBlur={this.handleOnBlur}\r\n\t\t\t\tup={this.up}\r\n\t\t\t\tdown={this.down}\r\n\t\t\t\thome={this.home}\r\n\t\t\t\tend={this.end}\r\n\t\t\t\t{...rest}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t\t<SelectPanel\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tindex={index}\r\n\t\t\t\t\tprefix={prefix}\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tgetId={getOptionId(id)(this.idSequence)}\r\n\t\t\t\t\tonClickOption={this.handleClickOptions}\r\n\t\t\t\t\thandleHover={over => (this.overPanel = over)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{options}\r\n\t\t\t\t</SelectPanel>\r\n\t\t\t</SelectContainer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nSelectBase.propTypes = {\r\n\tprefix: PropTypes.string,\r\n\tplaceHolder: PropTypes.string.isRequired,\r\n\texpanded: PropTypes.bool.isRequired,\r\n\tclassName: PropTypes.string.isRequired,\r\n\tid: PropTypes.string.isRequired,\r\n\toptions: PropTypes.oneOfType([PropTypes.func, PropTypes.array]),\r\n\tsetExpanded: PropTypes.func.isRequired,\r\n};\r\n\r\nconst getSelectId = name => id => (id ? `${name}-${id}` : undefined);\r\nconst getOptionId = name => idSelect => index =>\r\n\tindex ? `${name}-${idSelect}-${index}` : undefined;\r\n\r\nexport default SelectBase;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const allowedTypes = PropTypes.oneOfType([\r\n\tPropTypes.string,\r\n\tPropTypes.number,\r\n\tPropTypes.object,\r\n]);\r\n\r\nexport const selectCommonPropTypes = {\r\n\thandleChange: PropTypes.func,\r\n\tplaceHolder: PropTypes.string,\r\n\treadOnly: PropTypes.bool,\r\n\tvalue: allowedTypes,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport SelectBase from '../shared/select-base.component';\r\nimport Option from '../shared/option.component';\r\nimport { selectCommonPropTypes, allowedTypes } from '../simple/prop-types';\r\nimport './writable-select.scss';\r\n\r\nclass WritableSelect extends React.Component {\r\n\tstate = { expanded: false, value: null, label: null, prefix: null };\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tif (props.value) {\r\n\t\t\tthis.state.value = props.value;\r\n\t\t}\r\n\t}\r\n\r\n\tdelete = () =>\r\n\t\tthis.setState({ expanded: true, prefix: null, value: null, label: null });\r\n\r\n\texpandPanel = e => {\r\n\t\te.stopPropagation();\r\n\t\tthis.setState({ expanded: !this.state.expanded });\r\n\t};\r\n\r\n\tsetValue = (value, label) => {\r\n\t\tthis.setState({ value, label, prefix: null });\r\n\t\tif (this.props.handleChange) {\r\n\t\t\tthis.props.handleChange(value);\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tonFocusInput = () => this.setState({ expanded: true });\r\n\r\n\tsetExpanded = expanded => {\r\n\t\tthis.setState({ expanded });\r\n\t};\r\n\r\n\thandleChangeInput = e => {\r\n\t\tthis.setState({\r\n\t\t\tlabel: e.target.value,\r\n\t\t\tvalue: e.target.value,\r\n\t\t\texpanded: true,\r\n\t\t\tprefix: e.target.value,\r\n\t\t});\r\n\t\tthis.props.handleChange(e.target.value);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { expanded, value, label, prefix } = this.state;\r\n\t\tconst {\r\n\t\t\toptions: initOpts,\r\n\t\t\tclassName,\r\n\t\t\tplaceHolder,\r\n\t\t\treadOnly,\r\n\t\t\t...rest\r\n\t\t} = this.props;\r\n\t\tconst options = initOpts.map(({ label, value }, i) => (\r\n\t\t\t<Option key={i} value={value}>\r\n\t\t\t\t{label}\r\n\t\t\t</Option>\r\n\t\t));\r\n\t\treturn (\r\n\t\t\t<SelectBase\r\n\t\t\t\tid=\"writable-select\"\r\n\t\t\t\tprefix={prefix}\r\n\t\t\t\toptions={options}\r\n\t\t\t\texpanded={expanded}\r\n\t\t\t\treadOnly={readOnly}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tplaceHolder={placeHolder ? placeHolder : 'Veuillez ...'}\r\n\t\t\t\tsetExpanded={this.setExpanded}\r\n\t\t\t\tsetValue={this.setValue}\r\n\t\t\t\tclassName={classnames('writable-select', { [className]: className })}\r\n\t\t\t\t{...rest}\r\n\t\t\t>\r\n\t\t\t\t<span className=\"champ-saisie\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder={placeHolder || 'Veuillez...'}\r\n\t\t\t\t\t\tvalue={label || ''}\r\n\t\t\t\t\t\tonChange={this.handleChangeInput}\r\n\t\t\t\t\t\tonFocus={this.onFocusInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{value ? (\r\n\t\t\t\t\t\t<button className=\"button-delete\" onClick={this.delete} />\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={classnames('button-expand', {\r\n\t\t\t\t\t\t\t'arrow-up': expanded,\r\n\t\t\t\t\t\t\t'arrow-down': !expanded,\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tonClick={this.expandPanel}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t</SelectBase>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nWritableSelect.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\t...selectCommonPropTypes,\r\n\toptions: PropTypes.arrayOf(\r\n\t\tPropTypes.shape({\r\n\t\t\tlabel: PropTypes.string.isRequired,\r\n\t\t\tvalue: allowedTypes,\r\n\t\t})\r\n\t),\r\n};\r\n\r\nexport default WritableSelect;\r\n","import React, { useState } from 'react';\r\nimport { selectCommonPropTypes } from './prop-types';\r\nimport classnames from 'classnames';\r\nimport SelectBase from '../shared/select-base.component';\r\nimport './simple-select.scss';\r\n\r\nconst SimpleSelect = ({\r\n\tclassName,\r\n\tchildren,\r\n\tname,\r\n\treadOnly,\r\n\tplaceHolder,\r\n\toptions,\r\n\tvalue: valueProps,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst [expanded, setExpanded] = useState(false);\r\n\tconst [label, setLabel] = useState(null);\r\n\tconst [initialValue, setInitialValue] = useState(\r\n\t\tvalueProps ? valueProps : null\r\n\t);\r\n\tconst [value, setValue] = useState(valueProps ? valueProps : null);\r\n\r\n\tif (valueProps !== initialValue) {\r\n\t\tsetInitialValue(valueProps);\r\n\t\tsetValue(valueProps);\r\n\t\t// handleChange(valueProps);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SelectBase\r\n\t\t\tid=\"simple-select\"\r\n\t\t\toptions={children}\r\n\t\t\texpanded={expanded}\r\n\t\t\treadOnly={readOnly}\r\n\t\t\tvalue={value}\r\n\t\t\tinitial={valueProps}\r\n\t\t\tplaceHolder={placeHolder ? placeHolder : 'Veuillez ...'}\r\n\t\t\tsetExpanded={ex => setExpanded(ex)}\r\n\t\t\tsetValue={(val, label) => {\r\n\t\t\t\tsetValue(val);\r\n\t\t\t\tsetLabel(label);\r\n\t\t\t\tif (typeof handleChange === 'function') {\r\n\t\t\t\t\thandleChange(val);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}}\r\n\t\t\tclassName={classnames('simple-select', { [className]: className })}\r\n\t\t\t{...rest}\r\n\t\t>\r\n\t\t\t<button\r\n\t\t\t\taria-haspopup=\"listbox\"\r\n\t\t\t\tclassName={classnames('bouton', { 'read-only': readOnly })}\r\n\t\t\t\taria-expanded={expanded ? true : undefined}\r\n\t\t\t\tonClick={() => setExpanded(!expanded)}\r\n\t\t\t\treadOnly={readOnly ? true : undefined}\r\n\t\t\t\tname={name}\r\n\t\t\t>\r\n\t\t\t\t{label || placeHolder || 'Veuillez....'}\r\n\t\t\t</button>\r\n\t\t</SelectBase>\r\n\t);\r\n};\r\n\r\nSimpleSelect.propTypes = {\r\n\t...selectCommonPropTypes,\r\n};\r\n\r\nexport default SimpleSelect;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Select from './simple-select-nested.component';\r\nimport Option from '../shared/option.component';\r\nimport { selectCommonPropTypes, allowedTypes } from './prop-types';\r\n\r\nclass SimpleSelect extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Select {...this.props}>\r\n\t\t\t\t{this.props.options.map(({ label, value }, i) => (\r\n\t\t\t\t\t<Option key={i} value={value}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</Option>\r\n\t\t\t\t))}\r\n\t\t\t</Select>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nSimpleSelect.propTypes = {\r\n\t...selectCommonPropTypes,\r\n\toptions: PropTypes.arrayOf(\r\n\t\tPropTypes.shape({\r\n\t\t\tlabel: PropTypes.string.isRequired,\r\n\t\t\tvalue: allowedTypes,\r\n\t\t})\r\n\t),\r\n};\r\n\r\nexport default SimpleSelect;\r\n","import React from 'react';\r\nimport WithNestedOption from './simple-select-nested.component';\r\nimport WithList from './simple-select-list.component';\r\n\r\nexport default ({ options, ...rest }) =>\r\n\toptions ? (\r\n\t\t<WithList options={options} {...rest} />\r\n\t) : (\r\n\t\t<WithNestedOption {...rest} />\r\n\t);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Writable from './writable';\r\nimport Simple from './simple';\r\nimport Declarations from '../declarations';\r\nimport { TooltipResponse } from '../tooltip';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './dropdown.scss';\r\n\r\nconst Dropdown = ({\r\n\tid,\r\n\tlabel,\r\n\tlabelPosition,\r\n\twritable,\r\n\trequired,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\t...props\r\n}) => {\r\n\tconst { preferences, response, handleChange, tooltip, options } = props;\r\n\tconst value = U.getResponseByPreference(preferences)(response);\r\n\tconst handler = value =>\r\n\t\thandleChange({\r\n\t\t\t[U.getResponseName(response)]: value,\r\n\t\t});\r\n\treturn (\r\n\t\t<div className={U.getLabelPositionClass(labelPosition)}>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t{label && (\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor={`textarea-${id}`}\r\n\t\t\t\t\tid={`textarea-label-${id}`}\r\n\t\t\t\t\tclassName={`${required ? 'required' : ''}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{interpret(features)(bindings)(label)}\r\n\t\t\t\t</label>\r\n\t\t\t)}\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<div className=\"field-container\">\r\n\t\t\t\t<div className={`${tooltip ? 'field-with-tooltip' : 'field'}`}>\r\n\t\t\t\t\t{writable ? (\r\n\t\t\t\t\t\t<Writable {...props} value={value} handleChange={handler} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Simple {...props} value={value} handleChange={handler} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{tooltip && (\r\n\t\t\t\t\t<div className=\"tooltip\">\r\n\t\t\t\t\t\t<TooltipResponse\r\n\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\tresponse={U.buildResponse(options)(response)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nDropdown.defaultProps = {\r\n\tlabel: '',\r\n\tpreferences: ['COLLECTED'],\r\n\tresponse: {},\r\n\tplaceholder: '',\r\n\twritable: false,\r\n\trequired: false,\r\n\ttooltip: false,\r\n\tlabelPosition: 'DEFAULT',\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\ttooltip: false,\r\n\tstyle: {},\r\n};\r\n\r\nDropdown.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tresponse: U.responsePropTypes,\r\n\toptions: U.optionsPropTypes,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tplaceholder: PropTypes.string,\r\n\treadOnly: PropTypes.bool,\r\n\twritable: PropTypes.bool,\r\n\trequired: PropTypes.bool,\r\n\tlabelPosition: PropTypes.oneOf(['DEFAULT', 'TOP', 'BOTTOM', 'LEFT', 'RIGHT']),\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default Dropdown;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Declarations from '../declarations';\r\nimport { TooltipResponse } from '../tooltip';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './input.scss';\r\n\r\nconst Input = ({\r\n\tid,\r\n\tlabel,\r\n\tpreferences,\r\n\tresponse,\r\n\tplaceholder,\r\n\thandleChange,\r\n\tmaxLength,\r\n\treadOnly,\r\n\tautoComplete,\r\n\tlabelPosition,\r\n\trequired,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\tfocused,\r\n\ttooltip,\r\n\tstyle,\r\n}) => {\r\n\tconst inputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (focused) inputRef.current.focus();\r\n\t}, [focused]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<div className={U.getLabelPositionClass(labelPosition)}>\r\n\t\t\t\t{label && (\r\n\t\t\t\t\t<label\r\n\t\t\t\t\t\thtmlFor={`input-${id}`}\r\n\t\t\t\t\t\tid={`input-label-${id}`}\r\n\t\t\t\t\t\tclassName={`${required ? 'required' : ''}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{interpret(features)(bindings)(label)}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\t\t\t\t<Declarations\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\t\tdeclarations={declarations}\r\n\t\t\t\t\tfeatures={features}\r\n\t\t\t\t\tbindings={bindings}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"field-container\">\r\n\t\t\t\t\t<div className={`${tooltip ? 'field-with-tooltip' : 'field'}`}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tid={`input-${id}`}\r\n\t\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\t\tvalue={U.getResponseByPreference(preferences)(response)}\r\n\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\tautoComplete={autoComplete ? 'on' : 'off'}\r\n\t\t\t\t\t\t\tclassName=\"input-lunatic\"\r\n\t\t\t\t\t\t\tstyle={U.buildStyleObject(style)}\r\n\t\t\t\t\t\t\treadOnly={readOnly}\r\n\t\t\t\t\t\t\tmaxLength={maxLength || 524288}\r\n\t\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\t\taria-required={required}\r\n\t\t\t\t\t\t\tonChange={e =>\r\n\t\t\t\t\t\t\t\thandleChange({\r\n\t\t\t\t\t\t\t\t\t[U.getResponseName(response)]: e.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{tooltip && (\r\n\t\t\t\t\t\t<div className=\"tooltip\">\r\n\t\t\t\t\t\t\t<TooltipResponse id={id} response={response} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nInput.defaultProps = {\r\n\tlabel: '',\r\n\tpreferences: ['COLLECTED'],\r\n\tresponse: {},\r\n\tplaceholder: '',\r\n\treadOnly: false,\r\n\tautoComplete: false,\r\n\tlabelPosition: 'DEFAULT',\r\n\trequired: false,\r\n\tfocused: false,\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\ttooltip: false,\r\n\tstyle: {},\r\n};\r\n\r\nInput.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tresponse: U.responsePropTypes,\r\n\tplaceholder: PropTypes.string,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\treadOnly: PropTypes.bool,\r\n\tmaxLength: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n\tautoComplete: PropTypes.bool,\r\n\tlabelPosition: PropTypes.oneOf(['DEFAULT', 'TOP', 'BOTTOM', 'LEFT', 'RIGHT']),\r\n\trequired: PropTypes.bool,\r\n\tfocused: PropTypes.bool,\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default Input;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Declarations from '../declarations';\r\nimport { TooltipResponse } from '../tooltip';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './input.scss';\r\n\r\nconst InputNumber = ({\r\n\tid,\r\n\tlabel,\r\n\tpreferences,\r\n\tresponse,\r\n\tmin,\r\n\tmax,\r\n\tdecimals,\r\n\tplaceholder,\r\n\thandleChange,\r\n\treadOnly,\r\n\tautoComplete,\r\n\tfocused,\r\n\tstyle,\r\n\tunit,\r\n\tlabelPosition,\r\n\tunitPosition,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\ttooltip,\r\n\trequired,\r\n\tvalidators,\r\n}) => {\r\n\tconst [messagesError, setMessagesError] = useState(\r\n\t\t[minMaxValidator({ min, max }), ...validators]\r\n\t\t\t.map(v => v(U.getResponseByPreference(preferences)(response)))\r\n\t\t\t.filter(m => m !== undefined)\r\n\t);\r\n\tconst inputRef = useRef();\r\n\r\n\tconst validate = value => {\r\n\t\tsetMessagesError(\r\n\t\t\t[minMaxValidator({ min, max }), ...validators]\r\n\t\t\t\t.map(v => v(value))\r\n\t\t\t\t.filter(m => m !== undefined)\r\n\t\t);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (focused) inputRef.current.focus();\r\n\t}, [focused]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<div className={U.getLabelPositionClass(labelPosition)}>\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor={`input-${id}`}\r\n\t\t\t\t\tid={`input-label-${id}`}\r\n\t\t\t\t\tclassName={`${required ? 'required' : ''}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{interpret(features)(bindings)(label)}{' '}\r\n\t\t\t\t\t<span className=\"unit\">\r\n\t\t\t\t\t\t{unit && ['DEFAULT', 'BEFORE'].includes(unitPosition)\r\n\t\t\t\t\t\t\t? `(${unit})`\r\n\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<Declarations\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\t\tdeclarations={declarations}\r\n\t\t\t\t\tfeatures={features}\r\n\t\t\t\t\tbindings={bindings}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"field-container\">\r\n\t\t\t\t\t<div className={`${tooltip ? 'field-with-tooltip' : 'field'}`}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tid={`input-${id}`}\r\n\t\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\t\taria-labelledby={`input-label-${id}`}\r\n\t\t\t\t\t\t\tvalue={U.getResponseByPreference(preferences)(response)}\r\n\t\t\t\t\t\t\tmin={min}\r\n\t\t\t\t\t\t\tmax={max}\r\n\t\t\t\t\t\t\tstep={decimals ? `${Math.pow(10, -decimals)}` : '0'}\r\n\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\tclassName={`input-lunatic ${\r\n\t\t\t\t\t\t\t\tmessagesError.length > 0 ? 'warning' : ''\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tstyle={U.buildStyleObject(style)}\r\n\t\t\t\t\t\t\treadOnly={readOnly}\r\n\t\t\t\t\t\t\tautoComplete={autoComplete ? 'on' : 'off'}\r\n\t\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\t\taria-required={required}\r\n\t\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\ttarget: { value },\r\n\t\t\t\t\t\t\t\t} = e;\r\n\t\t\t\t\t\t\t\tvalidate(value);\r\n\t\t\t\t\t\t\t\thandleChange({\r\n\t\t\t\t\t\t\t\t\t[U.getResponseName(response)]: value,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{unitPosition === 'AFTER' && <span className=\"unit\">{unit}</span>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{tooltip && (\r\n\t\t\t\t\t\t<div className=\"tooltip\">\r\n\t\t\t\t\t\t\t<TooltipResponse id={id} response={response} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"lunatic-input-number-errors\">\r\n\t\t\t\t\t{messagesError.map((m, i) => (\r\n\t\t\t\t\t\t<div key={i} className=\"error\">\r\n\t\t\t\t\t\t\t{m}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst minMaxValidator = ({ min, max }) => value => {\r\n\tif (!value) {\r\n\t\treturn undefined;\r\n\t}\r\n\tconst valueNumber = Number(value);\r\n\tif (!min && isDef(max) && valueNumber > max)\r\n\t\treturn <span>{`La valeur doit tre infrieure  ${max}`}</span>;\r\n\telse if (isDef(min) && !max && valueNumber < min)\r\n\t\treturn <span>{`La valeur doit tre suprieure  ${min}`}</span>;\r\n\telse if (isDef(min) && isDef(max) && (valueNumber < min || valueNumber > max))\r\n\t\treturn <span>{`La valeur doit tre comprise entre ${min} et ${max}`}</span>;\r\n\treturn undefined;\r\n};\r\n\r\nconst isDef = number => number || number === 0;\r\n\r\nInputNumber.defaultProps = {\r\n\tlabel: '',\r\n\tpreferences: ['COLLECTED'],\r\n\tresponse: {},\r\n\tmin: undefined,\r\n\tmax: undefined,\r\n\tdecimals: 0,\r\n\tplaceholder: '',\r\n\treadOnly: false,\r\n\tautoComplete: false,\r\n\tfocused: false,\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\tlabelPosition: 'DEFAULT',\r\n\tunitPositioni: 'DEFAULT',\r\n\trequired: false,\r\n\ttooltip: false,\r\n\tstyle: {},\r\n\tvalidators: [],\r\n};\r\n\r\nInputNumber.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tresponse: U.responsePropTypes,\r\n\tmin: PropTypes.number,\r\n\tmax: PropTypes.number,\r\n\tdecimals: PropTypes.number,\r\n\tplaceholder: PropTypes.string,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\treadOnly: PropTypes.bool,\r\n\tautoComplete: PropTypes.bool,\r\n\tfocused: PropTypes.bool,\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\tlabelPosition: PropTypes.oneOf(['DEFAULT', 'TOP', 'BOTTOM', 'LEFT', 'RIGHT']),\r\n\tunitPosition: PropTypes.oneOf(['DEFAULT', 'BEFORE', 'AFTER']),\r\n\trequired: PropTypes.bool,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n\tvalidators: PropTypes.arrayOf(PropTypes.func),\r\n};\r\n\r\nexport default InputNumber;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { buildStyleObject } from '../../utils/lib';\r\nimport './progress-bar.scss';\r\n\r\nconst ProgressBar = ({ id, value, style }) => {\r\n\tlet controledValue = value;\r\n\tif (value < 0) controledValue = 0;\r\n\tif (value > 100) controledValue = 100;\r\n\treturn (\r\n\t\t<div\r\n\t\t\tid={`progress-${id}`}\r\n\t\t\tclassName=\"progress-lunatic\"\r\n\t\t\tstyle={buildStyleObject(style)}\r\n\t\t>\r\n\t\t\t{`${controledValue.toFixed(0)} %`}\r\n\t\t\t<span style={{ width: `${controledValue}%` }} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nProgressBar.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tvalue: PropTypes.number.isRequired,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default ProgressBar;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Declarations from '../declarations';\r\nimport { TooltipResponse } from '../tooltip';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './radio.scss';\r\n\r\nconst Radio = ({\r\n\tid,\r\n\tlabel,\r\n\tpreferences,\r\n\tresponse,\r\n\toptions,\r\n\thandleChange,\r\n\tdisabled,\r\n\tfocused,\r\n\tkeyboardSelection,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\ttooltip,\r\n\tstyle,\r\n\tpositioning,\r\n}) => {\r\n\tconst inputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (focused) inputRef.current.focus();\r\n\t}, [focused]);\r\n\r\n\tconst { fieldsetStyle, radioStyle } = style;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<div className=\"field-container\">\r\n\t\t\t\t<div className={`${tooltip ? 'field-with-tooltip' : 'field'}`}>\r\n\t\t\t\t\t<fieldset\r\n\t\t\t\t\t\tkey={`radio-${id}`}\r\n\t\t\t\t\t\tclassName=\"radio-group\"\r\n\t\t\t\t\t\tstyle={U.buildStyleObject(fieldsetStyle)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<legend>{interpret(features)(bindings)(label)}</legend>\r\n\t\t\t\t\t\t<Declarations\r\n\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\t\t\t\tdeclarations={declarations}\r\n\t\t\t\t\t\t\tfeatures={features}\r\n\t\t\t\t\t\t\tbindings={bindings}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{options.map(({ label: optionLabel, value: optionValue }, i) => {\r\n\t\t\t\t\t\t\tconst checked =\r\n\t\t\t\t\t\t\t\tU.getResponseByPreference(preferences)(response) ===\r\n\t\t\t\t\t\t\t\toptionValue;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tkey={`radio-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\tclassName={`radio-modality ${U.getItemsPositioningClass(\r\n\t\t\t\t\t\t\t\t\t\tpositioning\r\n\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\tname={`radio-${id}`}\r\n\t\t\t\t\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\t\t\t\t\tid={`radio-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\t\taria-labelledby={`input-label-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"radio-lunatic\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={U.buildStyleObject(style)}\r\n\t\t\t\t\t\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange({\r\n\t\t\t\t\t\t\t\t\t\t\t\t[U.getResponseName(response)]: optionValue,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor={`radio-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\t\tid={`input-label-${id}-${optionValue}`}\r\n\t\t\t\t\t\t\t\t\t\tstyle={checked ? U.buildStyleObject(radioStyle) : {}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{keyboardSelection\r\n\t\t\t\t\t\t\t\t\t\t\t? `${U.getAlphabet()[i].toUpperCase()} - ${optionLabel}`\r\n\t\t\t\t\t\t\t\t\t\t\t: optionLabel}\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tooltip && (\r\n\t\t\t\t\t<div className=\"tooltip\">\r\n\t\t\t\t\t\t<TooltipResponse\r\n\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\tresponse={U.buildResponse(options)(response)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nRadio.defaultProps = {\r\n\tlabel: '',\r\n\tpreferences: ['COLLECTED'],\r\n\tresponse: {},\r\n\toptions: [],\r\n\tdisabled: false,\r\n\tfocused: false,\r\n\tkeyboardSelection: false,\r\n\tpositioning: 'DEFAULT',\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\ttooltip: false,\r\n\tstyle: { fieldsetStyle: {}, radioStyle: {} },\r\n};\r\n\r\nRadio.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tresponse: U.responsePropTypes,\r\n\toptions: U.optionsPropTypes,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tdisabled: PropTypes.bool,\r\n\tfocused: PropTypes.bool,\r\n\tkeyboardSelection: PropTypes.bool,\r\n\tpositioning: PropTypes.oneOf(['DEFAULT', 'HORIZONTAL', 'VERTICAL']),\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default Radio;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Declarations from '../declarations';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './sequence.scss';\r\n\r\nconst Sequence = ({ id, label, declarations, features, bindings, style }) => (\r\n\t<>\r\n\t\t<Declarations\r\n\t\t\tid={id}\r\n\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\tdeclarations={declarations}\r\n\t\t\tfeatures={features}\r\n\t\t\tbindings={bindings}\r\n\t\t/>\r\n\t\t<div\r\n\t\t\taria-label={`sequence-${id}`}\r\n\t\t\tclassName=\"sequence-lunatic\"\r\n\t\t\tstyle={U.buildStyleObject(style)}\r\n\t\t>\r\n\t\t\t{interpret(features)(bindings)(label)}\r\n\t\t</div>\r\n\t\t<Declarations\r\n\t\t\tid={id}\r\n\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\tdeclarations={declarations}\r\n\t\t\tfeatures={features}\r\n\t\t\tbindings={bindings}\r\n\t\t/>\r\n\t\t<Declarations\r\n\t\t\tid={id}\r\n\t\t\ttype={C.DETACHABLE}\r\n\t\t\tdeclarations={declarations}\r\n\t\t\tfeatures={features}\r\n\t\t\tbindings={bindings}\r\n\t\t/>\r\n\t</>\r\n);\r\n\r\nSequence.defaultProps = {\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\tstyle: {},\r\n};\r\n\r\nSequence.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string.isRequired,\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default Sequence;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Declarations from '../declarations';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './subsequence.scss';\r\n\r\nconst Subsequence = ({\r\n\tid,\r\n\tlabel,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\tstyle,\r\n}) => (\r\n\t<>\r\n\t\t<Declarations\r\n\t\t\tid={id}\r\n\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\tdeclarations={declarations}\r\n\t\t\tfeatures={features}\r\n\t\t\tbindings={bindings}\r\n\t\t/>\r\n\t\t<div\r\n\t\t\taria-label={`subsequence-${id}`}\r\n\t\t\tclassName=\"subsequence-lunatic\"\r\n\t\t\tstyle={U.buildStyleObject(style)}\r\n\t\t>\r\n\t\t\t{interpret(features)(bindings)(label)}\r\n\t\t</div>\r\n\t\t<Declarations\r\n\t\t\tid={id}\r\n\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\tdeclarations={declarations}\r\n\t\t\tfeatures={features}\r\n\t\t\tbindings={bindings}\r\n\t\t/>\r\n\t\t<Declarations\r\n\t\t\tid={id}\r\n\t\t\ttype={C.DETACHABLE}\r\n\t\t\tdeclarations={declarations}\r\n\t\t\tfeatures={features}\r\n\t\t\tbindings={bindings}\r\n\t\t/>\r\n\t</>\r\n);\r\n\r\nSubsequence.defaultProps = {\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\tstyle: {},\r\n};\r\n\r\nSubsequence.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string.isRequired,\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default Subsequence;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Declarations from '../declarations';\r\nimport { TooltipResponse } from '../tooltip';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './textarea.scss';\r\n\r\nconst Textarea = ({\r\n\tid,\r\n\tlabel,\r\n\tpreferences,\r\n\tresponse,\r\n\tplaceholder,\r\n\thandleChange,\r\n\trows,\r\n\tmaxLength,\r\n\treadOnly,\r\n\tlabelPosition,\r\n\trequired,\r\n\tfocused,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\ttooltip,\r\n\tstyle,\r\n}) => {\r\n\tconst inputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (focused) inputRef.current.focus();\r\n\t}, [focused]);\r\n\r\n\treturn (\r\n\t\t<div className={U.getLabelPositionClass(labelPosition)}>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t{label && (\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor={`textarea-${id}`}\r\n\t\t\t\t\tid={`textarea-label-${id}`}\r\n\t\t\t\t\tclassName={`${required ? 'required' : ''}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{interpret(features)(bindings)(label)}\r\n\t\t\t\t</label>\r\n\t\t\t)}\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<div className=\"field-container\">\r\n\t\t\t\t<div className={`${tooltip ? 'field-with-tooltip' : 'field'}`}>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid={`textarea-${id}`}\r\n\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tvalue={U.getResponseByPreference(preferences)(response)}\r\n\t\t\t\t\t\tclassName=\"textarea-lunatic\"\r\n\t\t\t\t\t\tstyle={U.buildStyleObject(style)}\r\n\t\t\t\t\t\trows={rows}\r\n\t\t\t\t\t\tmaxLength={maxLength || 524288}\r\n\t\t\t\t\t\treadOnly={readOnly}\r\n\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\taria-required={required}\r\n\t\t\t\t\t\tonChange={e =>\r\n\t\t\t\t\t\t\thandleChange({\r\n\t\t\t\t\t\t\t\t[U.getResponseName(response)]: e.target.value,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tooltip && (\r\n\t\t\t\t\t<div className=\"tooltip\">\r\n\t\t\t\t\t\t<TooltipResponse id={id} response={response} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={id}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTextarea.defaultProps = {\r\n\tpreferences: ['COLLECTED'],\r\n\tresponse: {},\r\n\tplaceholder: '',\r\n\trows: 5,\r\n\treadOnly: false,\r\n\tlabelPosition: 'DEFAULT',\r\n\trequired: false,\r\n\tfocused: false,\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\ttooltip: false,\r\n\tstyle: {},\r\n};\r\n\r\nTextarea.propTypes = {\r\n\tid: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tresponse: U.responsePropTypes,\r\n\tplaceholder: PropTypes.string,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\trows: PropTypes.number.isRequired,\r\n\tmaxLength: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n\treadOnly: PropTypes.bool,\r\n\tlabelPosition: PropTypes.oneOf(['DEFAULT', 'TOP', 'BOTTOM', 'LEFT', 'RIGHT']),\r\n\trequired: PropTypes.bool,\r\n\tfocused: PropTypes.bool,\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default Textarea;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport * as lunatic from '../components';\r\nimport Declarations from '../declarations';\r\nimport * as U from '../../utils/lib';\r\nimport * as C from '../../utils/constants';\r\nimport { interpret } from '../../utils/to-expose';\r\nimport './table.scss';\r\n\r\nconst Table = ({\r\n\tid: tableId,\r\n\tlabel: tableLabel,\r\n\tpreferences,\r\n\tcells,\r\n\thandleChange,\r\n\tlines: initLines,\r\n\tpositioning,\r\n\tdeclarations,\r\n\tfeatures,\r\n\tbindings,\r\n\taddBtnLabel,\r\n\ttooltip,\r\n}) => {\r\n\tconst minLines = initLines\r\n\t\t? Math.max(initLines.min, U.getRosterInitLines(cells))\r\n\t\t: undefined;\r\n\tconst maxLines = initLines ? initLines.max : undefined;\r\n\tconst [lines, setLines] = useState(minLines);\r\n\r\n\tconst width = `${100 / Math.max(...cells.map(line => line.length))}%`;\r\n\tconst Button = lunatic.Button;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Declarations\r\n\t\t\t\tid={tableId}\r\n\t\t\t\ttype={C.BEFORE_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t{tableLabel && (\r\n\t\t\t\t<label\r\n\t\t\t\t\thtmlFor={`table-one-axis-${tableId}`}\r\n\t\t\t\t\tid={`table-one-axis-label-${tableId}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{interpret(features)(bindings)(tableLabel)}\r\n\t\t\t\t</label>\r\n\t\t\t)}\r\n\t\t\t<Declarations\r\n\t\t\t\tid={tableId}\r\n\t\t\t\ttype={C.AFTER_QUESTION_TEXT}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t\t<table id={`table-${tableId}`} className=\"table-lunatic\">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{(minLines || minLines === 0 ? cells.slice(0, lines + 1) : cells).map(\r\n\t\t\t\t\t\t(line, i) => (\r\n\t\t\t\t\t\t\t<tr key={`table-${tableId}-line${i}`}>\r\n\t\t\t\t\t\t\t\t{line.map((component, j) => {\r\n\t\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\t\t\t\theaderCell,\r\n\t\t\t\t\t\t\t\t\t\tcolspan,\r\n\t\t\t\t\t\t\t\t\t\trowspan,\r\n\t\t\t\t\t\t\t\t\t\tcomponentType,\r\n\t\t\t\t\t\t\t\t\t\t...componentProps\r\n\t\t\t\t\t\t\t\t\t} = component;\r\n\t\t\t\t\t\t\t\t\tif (componentType) {\r\n\t\t\t\t\t\t\t\t\t\tconst Component = lunatic[componentType];\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`table-${tableId}-line${i}-cell-${j}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Component\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpreferences={preferences}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpositioning={positioning}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip={tooltip}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfeatures={features}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbindings={bindings}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...componentProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tconst cellOptions = {\r\n\t\t\t\t\t\t\t\t\t\tkey: `table-${tableId}-line${i}-cell-${j}`,\r\n\t\t\t\t\t\t\t\t\t\tstyle: { width },\r\n\t\t\t\t\t\t\t\t\t\tcolSpan: colspan || 1,\r\n\t\t\t\t\t\t\t\t\t\trowSpan: rowspan || 1,\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\treturn headerCell ? (\r\n\t\t\t\t\t\t\t\t\t\t<th {...cellOptions}>{label}</th>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<td {...cellOptions}>{label}</td>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t{Number.isInteger(minLines) && lines < maxLines && (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tlabel=\"addLine\"\r\n\t\t\t\t\tvalue={addBtnLabel}\r\n\t\t\t\t\tonClick={() => setLines(lines + 1)}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<Declarations\r\n\t\t\t\tid={tableId}\r\n\t\t\t\ttype={C.DETACHABLE}\r\n\t\t\t\tdeclarations={declarations}\r\n\t\t\t\tfeatures={features}\r\n\t\t\t\tbindings={bindings}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nTable.defaultProps = {\r\n\tlabel: '',\r\n\tpreferences: ['COLLECTED'],\r\n\tcells: [],\r\n\tlines: {},\r\n\tpositioning: 'DEFAULT',\r\n\tdeclarations: [],\r\n\tfeatures: [],\r\n\tbindings: {},\r\n\taddBtnLabel: 'Add a line',\r\n\ttooltip: false,\r\n\tstyle: {},\r\n};\r\n\r\nTable.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tpreferences: PropTypes.arrayOf(U.valueTypePropTypes),\r\n\tcells: PropTypes.array,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tlines: U.linesPropTypes,\r\n\tpositioning: PropTypes.oneOf(['DEFAULT', 'HORIZONTAL', 'VERTICAL']),\r\n\tdeclarations: U.declarationsPropTypes,\r\n\tfeatures: PropTypes.arrayOf(PropTypes.string),\r\n\tbindings: PropTypes.object,\r\n\taddBtnLabel: PropTypes.string,\r\n\ttooltip: PropTypes.bool,\r\n\tstyle: PropTypes.object,\r\n};\r\n\r\nexport default Table;\r\n"],"names":["BEFORE_QUESTION_TEXT","AFTER_QUESTION_TEXT","DETACHABLE","INSTRUCTION","COMMENT","HELP","WARNING","MESSAGE_FILTER","STATEMENT","PropTypes","arrayOf","shape","id","string","isRequired","declarationType","oneOf","C","position","label","value","name","valueState","valueType","oneOfType","number","bool","min","max","buildTooltip","response","edited","get","forced","collected","content","key","imgName","find","v","buildResponse","options","newValueState","map","o","getAlphabet","split","getLabelPositionClass","getItemsPositioningClass","positioning","getResponseName","getResponseByPreference","preferences","reduce","_","p","res","r","buildStyleObject","obj","Object","entries","startsWith","camelCase","getRosterInitLines","cells","Array","isArray","line","__","component","isResponseEmpty","filter","b","length","Breadcrumb","elements","style","React","e","i","toLowerCase","undefined","propTypes","object","Button","onClick","disabled","func","updateQuestionnaire","questionnaire","updatedValue","includes","components","c","updateComponent","componentType","isComponentsConcernedByResponse","buildUpdatedResponse","buildUpdatedCheckboxGroupResponse","buildUpdatedTableResponse","responseName","responses","forEach","l","push","str","newValue","lastValue","slice","type","buildUpdatedVectorResponse","cellComponent","other","newResponses","newCells","mergeQuestionnaireAndData","data","keys","collectedData","COLLECTED","variables","props","filledComponents","mergeSimpleComponentAndData","mergeCheckboxGroupAndData","mergeTableAndData","filledVariables","EXTERNAL","variableType","initExternalVariable","CALCULATED","initCalculatedVariable","newLine","expression","getState","getVariablesFromComponents","getCalculatedFromVariables","getExternalFromVariables","getCollectedState","getCollectedStateByValueType","displayNull","getVariableFromResponses","getVariableFromCells","getVariableFromResponse","values","getBindings","interpret","features","bindings","interpretVtl","Declarations","declarations","filtered","idD","defaultProps","U","img","TooltipResponse","useState","tooltipElements","setTooltipElements","useEffect","src","CheckboxGroup","handleChange","focused","keyboardSelection","tooltip","fieldsetStyle","checkboxStyle","inputRef","useRef","current","focus","modId","modLabel","checked","target","toUpperCase","CheckboxBoolean","isVertical","input","CheckboxOne","optionLabel","optionValue","Datepicker","placeholder","readOnly","labelPosition","required","Option","createRef","validate","index","html","children","selected","hidden","Component","classnames","stopPropagation","getValuesFromProps","witch","option","a","rest","SelectPanel","domLi","domOptions","domUl","top","offsetTop","bottom","offsetHeight","topLim","scrollTop","bottomLim","onClickOption","handleHover","validateScroll","expanded","getId","prefix","handlePanelEnter","handlePanelLeave","Children","toArray","val","handleClick","SelectContainer","keycode","preventDefault","up","down","home","end","state","setState","onChange","className","onBlur","handleKeyPressed","__SELECT_ID__","SelectBase","initialValue","validateIndex","Math","nbOptions","finalValue","setValue","setExpanded","overPanel","idSequence","initial","Number","parseInt","getSelectId","handleOnBlur","getOptionId","handleClickOptions","over","placeHolder","array","idSelect","allowedTypes","selectCommonPropTypes","WritableSelect","initOpts","handleChangeInput","onFocusInput","expandPanel","SimpleSelect","valueProps","setLabel","setInitialValue","ex","Select","WithList","WithNestedOption","Dropdown","writable","handler","Writable","Input","maxLength","autoComplete","InputNumber","decimals","unit","unitPosition","validators","minMaxValidator","m","messagesError","setMessagesError","pow","valueNumber","isDef","unitPositioni","ProgressBar","controledValue","toFixed","width","Radio","radioStyle","Sequence","Subsequence","Textarea","rows","Table","tableId","tableLabel","initLines","lines","addBtnLabel","minLines","maxLines","setLines","lunatic","j","headerCell","colspan","rowspan","componentProps","cellOptions","colSpan","rowSpan","isInteger"],"mappings":"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"}